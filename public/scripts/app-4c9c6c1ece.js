(function(){angular.module("uTunes",["ngAnimate","ngCookies","ngTouch","ngSanitize","restangular","ui.router","ngMaterial","ngFileUpload","ngMessages","ui.validate","ui.bootstrap.contextMenu","ng-token-auth","uuid"])}).call(this),function(){angular.module("uTunes").directive("trackFields",["$timeout","TrackService",function(e,t){var n;return n={restrict:"E",scope:{registerFormScope:"=",track:"=",tracks:"=",edit:"=",artistEdit:"=",trackNumbers:"="},templateUrl:"app/components/mediaContent/forms/views/track-fields.html",link:function(n,r){return n.disabled=!1,n.addArtist=function(e){return e.artists||(e.artists=[]),e.artists.push({name:"",class_year:""})},n.removeArtist=function(e,t){var n;return n=t.artists[e],n.id?void 0:t.artists.splice(e,1)},n.removeArtistAssociation=function(e){return e._remove=!0,n.track.artists||(n.track.artists=[]),n.track.artists.push(e)},n.uniqueTrackNumber=function(e){var t,r,a,o,i;if(i=n.trackNumbers.slice(0),console.dir(i),n.tracks)for(a=n.tracks,t=0,r=a.length;r>t;t++)o=a[t],i.push(o.track_number);return-1===i.indexOf(e)?(console.log("Valid"),!0):(console.log("Invalid"),!1)},e(function(){return n.form.fields=["track_number","title","audio"],n.registerFormScope(n.form,n.$id)}),n.$watch("track",function(e){return e&&n.edit&&!n.artists?t.getArtists(n.track.id).then(function(e){return n.artists=e}):void 0},!0),n.$watch("track.file",function(e){var t;return t=r.find("#new-track-audio")[0],t.onloadedmetadata=function(e){return n.track.length_in_seconds=t.duration}}),n.$watch("trackNumbers",function(e){return n.trackNumbers=e,console.dir(n.trackNumbers)},!0)}}}])}.call(this),function(){angular.module("uTunes").directive("producerFields",["$timeout",function(e){var t;return t={restrict:"E",scope:{registerFormScope:"=",producer:"=",edit:"="},templateUrl:"app/components/mediaContent/forms/views/producer-fields.html",link:function(t){return t.disabled=!1,e(function(){return t.form.fields=["name","class_year"],t.registerFormScope(t.form,t.$id)})}}}])}.call(this),function(){angular.module("uTunes").directive("artistFields",["$timeout",function(e){var t;return t={restrict:"E",scope:{registerFormScope:"=",artist:"=",edit:"="},templateUrl:"app/components/mediaContent/forms/views/artist-fields.html",link:function(t){return t.disabled=!1,e(function(){return t.form.fields=["name","class_year"],t.registerFormScope(t.form,t.$id)})}}}])}.call(this),function(){angular.module("uTunes").directive("albumFields",["$timeout",function(e){var t;return t={restrict:"E",scope:{registerFormScope:"=",album:"=",edit:"="},templateUrl:"app/components/mediaContent/forms/views/album-fields.html",link:function(t){return t.disabled=!1,t.tracksLength=t.album.tracks.length,e(function(){return t.form.fields=["title","year","cover_image"],t.registerFormScope(t.form,t.$id)})}}}])}.call(this),function(){angular.module("uTunes").directive("volumeBar",["$document",function(e){var t;return t={require:"^audioPlayer",restrict:"E",templateUrl:"app/components/player/views/volume-bar.html",link:function(t,n,r,a){var o,i,s,d,l,c,u,m;return s=n.find("#volume-controls"),u=n.find("#volume-bar"),o=n.find(".volume-current"),m=n.find("#volumehead"),i=parseInt(m.css("font-size"),10)/2,s.bind("mouseover",function(e){return s.addClass("active")}),s.bind("mouseleave",function(e){return s.removeClass("active")}),s.bind("click",function(e){return t.$apply(a.changeMuteState())}),c=function(e){return t.$apply(a.setVolume(e))},u.bind("click",function(e){return o.css({width:e.pageX-o.offset().left}),m.css({left:e.pageX-o.offset().left-i}),c(o.width()/u.width())}),m.bind("mousedown",function(t){return m.addClass("active"),e.on("mousemove",d),e.on("mouseup",l)}),e.bind("mouseup",function(e){return m.removeClass("active")}),l=function(){return e.off("mousemove",d),e.off("mouseup",l)},d=function(e){return o.css({width:Math.min(e.pageX-o.offset().left,u.width())}),m.css({left:Math.max(Math.min(e.pageX-o.offset().left-i,u.width()-i),-i)}),c(o.width()/u.width())}}}}])}.call(this),function(){angular.module("uTunes").directive("totalTime",function(){var e;return e={require:"^audioPlayer",restrict:"E",templateUrl:"app/components/player/views/total-time.html",link:function(e,t,n,r){}}})}.call(this),function(){angular.module("uTunes").directive("shuffleButton",function(){var e;return e={require:"^audioPlayer",restrict:"E",templateUrl:"app/components/player/views/shuffle-button.html",link:function(e,t,n,r){return e.setShuffle=function(){return r.setShuffle()}}}})}.call(this),function(){angular.module("uTunes").directive("scrubBar",["$document",function(e){var t;return t={require:"^audioPlayer",restrict:"E",templateUrl:"app/components/player/views/scrub-bar.html",link:function(t,n,r,a,o){var i,s,d,l,c,u,m;return i=n.find(".timeline-current"),m=n.find(".timeline"),m.width($(window).width()-528),c=n.find("#playhead"),s=parseInt(c.css("font-size"),10)/2,u=function(e){return t.$apply(a.setPosition(e))},m.bind("click",function(e){return i.css({width:e.pageX-i.offset().left}),c.css({left:e.pageX-i.offset().left-s}),u(i.width()/m.width())}),c.bind("mousedown",function(t){return c.addClass("active"),e.on("mousemove",d),e.on("mouseup",l)}),e.bind("mouseup",function(e){return c.removeClass("active")}),$(window).resize(function(){return m.width($(window).width()-528)}),l=function(){return e.off("mousemove",d),e.off("mouseup",l)},d=function(e){return i.css({width:Math.min(e.pageX-i.offset().left,m.width())}),c.css({left:Math.max(Math.min(e.pageX-i.offset().left-s,m.width()-s),-s)}),u(i.width()/m.width())},t.$watch(function(e){return e.currentTime},function(e){return i.css({width:e/t.audio.duration*m.width()}),c.css({left:e/t.audio.duration*m.width()-s})})}}}])}.call(this),function(){angular.module("uTunes").directive("rewindButton",function(){var e;return e={require:"^audioPlayer",restrict:"E",templateUrl:"app/components/player/views/rewind-button.html",link:function(e,t,n,r){return e.rewind=function(){return r.rewind()},t.bind("mouseover",function(e){return t.addClass("active")}),t.bind("mouseleave",function(e){return t.removeClass("active")})}}})}.call(this),function(){angular.module("uTunes").directive("repeatButton",function(){var e;return e={require:"^audioPlayer",restrict:"E",templateUrl:"app/components/player/views/repeat-button.html",link:function(e,t,n,r){return e.changeRepeatState=function(){return r.changeRepeatState()}}}})}.call(this),function(){angular.module("uTunes").directive("audioPlayer",["$interval",function(e){var t;return t={restrict:"E",scope:{},templateUrl:"app/components/player/views/player.html",controller:["$scope","$element","onTrackPlaying","onTrackFinished","AlbumService","TrackService","rfc4122",function(t,n,r,a,o,i,s){var d,l,c,u,m,p;return t.playing=!1,t.shuffle=!1,t.repeat="off",t.volume=.5,t.muted=!1,t.currentTime=0,t.currentIndex=0,t.stopIndex=0,t.canRewind=!1,t.canFastForward=!1,t.duration=0,t.audio=n.find("audio")[0],t.audio.autoplay=!0,t.audio.volume=t.volume,t.audio.muted=t.muted,u=e(function(){return t.currentTime=t.audio.currentTime},250),t.$on("selecttrack",function(e,n,r){return t.trackList=n,t.shuffledTrackList=c(t.trackList,r),t.queue=t.shuffle?t.shuffledTrackList:t.trackList,l(0)}),l=function(e){var n;return t.currentIndex=e,n=s.v4(),i.postToken(n).then(function(){return t.source="/api/"+t.queue[e].audio.url+"?uid="+n,t.currentTime=0,t.audio.load(),m(),p(),r.broadcast(d(t.queue[e]))})},m=function(){return t.canFastForward="off"===t.repeat&&(t.currentIndex+1)%t.queue.length===t.stopIndex?!1:!0},p=function(){return t.canRewind="off"===t.repeat&&t.currentIndex===t.stopIndex?!1:!0},c=function(e,t){var n,r,a,o,i,s;for(n=e.slice(t?0:1),s=[],t||s.push(e[0]),r=o=i=n.length;1>=i?1>=o:o>=1;r=1>=i?++o:--o)a=Math.floor(Math.random()*r),s.push(n[a]),n.splice(a,1);return s},t.audio.onended=function(e){return a.broadcast(t.queue[t.ccurrentIndex]),"once"===t.repeat?t.audio.load():t.canFastForward?t.$apply(l((t.currentIndex+1)%t.queue.length)):void 0},t.audio.onloadedmetadata=function(e){return t.$apply(t.duration=t.audio.duration)},d=function(e){return e.album=o.getAlbum(e.album_id).$object,e.artists=i.getArtists(e.id).$object,e},{pausePlay:function(){return 3===t.audio.readyState||4===t.audio.readyState?(t.playing?t.audio.pause():t.audio.play(),t.playing=!t.playing):void 0},setShuffle:function(){var e;return t.shuffle=!t.shuffle,e=t.queue[t.currentIndex],t.queue=t.shuffle?t.shuffledTrackList:t.trackList,t.currentIndex=t.queue.indexOf(e),t.stopIndex=t.currentIndex},changeMuteState:function(){return t.muted=!t.muted,t.audio.muted=t.muted},changeRepeatState:function(){return"off"===t.repeat?t.repeat="on":"on"===t.repeat?t.repeat="once":"once"===t.repeat&&(t.repeat="off"),m(),p()},setVolume:function(e){return t.audio.volume=e,t.volume=e},setPosition:function(e){return t.audio.currentTime=e*t.audio.duration,t.currentTime=t.audio.currentTime},fastForward:function(){return t.canFastForward?l((t.currentIndex+1)%t.queue.length):void 0},rewind:function(){return t.canRewind?l((t.queue.length+t.currentIndex-1)%t.queue.length):void 0}}}]}}])}.call(this),function(){angular.module("uTunes").directive("pausePlayButton",function(){var e;return e={require:"^audioPlayer",restrict:"E",templateUrl:"app/components/player/views/pause-play-button.html",link:function(e,t,n,r){return e.pausePlay=function(){return r.pausePlay()},t.bind("mouseover",function(e){return t.addClass("active")}),t.bind("mouseleave",function(e){return t.removeClass("active")}),e.audio.onplay=function(t){return e.playing?void 0:r.pausePlay()}}}})}.call(this),function(){angular.module("uTunes").directive("fastForwardButton",function(){var e;return e={require:"^audioPlayer",restrict:"E",templateUrl:"app/components/player/views/fast-forward-button.html",link:function(e,t,n,r){return e.fastForward=function(){return r.fastForward()},t.bind("mouseover",function(e){return t.addClass("active")}),t.bind("mouseleave",function(e){return t.removeClass("active")})}}})}.call(this),function(){angular.module("uTunes").directive("currentTime",function(){var e;return e={require:"^audioPlayer",restrict:"E",templateUrl:"app/components/player/views/current-time.html",link:function(e,t,n,r){}}})}.call(this),function(){var e,t;t=angular.module("uTunes"),t.controller("TrackIndexController",["$scope","TrackService","AlbumService",function(e,t,n){return t.listTracks().then(function(r){var a,o,i,s,d;for(e.tracks=r,i=e.tracks,s=[],a=0,o=i.length;o>a;a++)d=i[a],d.album=n.getAlbum(d.album_id).$object,s.push(d.artists=t.getArtists(d.id).$object);return s}),e.headers=[{name:"Title",field:"title"},{name:"Artists",field:"artists"},{name:"Album",field:"album"},{name:"Length",field:"length_in_seconds"}],!e.user.role||"admin"!==e.user.role&&"producer"!==e.user.role||(e.headers.push({name:"Download",field:"download"}),e.headers.push({name:"Edit",field:"edit"})),e.count=25}]),t.controller("TrackEditController",["$scope","$state","$stateParams","AlbumService","TrackService","$mdDialog",function(t,n,r,a,o,i){return t.trackNumbers=[],o.getTrack(r.trackId).then(function(e){return t.track=e,a.getTracks(e.album_id).then(function(n){var r,a;for(r=0,a=n.length;a>r;r++)e=n[r],e.track_number!==t.track.track_number&&t.trackNumbers.push(e.track_number);return console.log(t.trackNumbers.length)})}),t.formsValid=!1,t.albumEdit=!1,t.artistEdit=!1,t.producerEdit=!1,t.trackEdit=!0,t.registerFormScope=function(e,n){return t.parentForm["childForm"+n]=e},t.save=function(){return t.formSending=!0,o.updateTrack(t.track,r.trackId).then(function(){return n.go("root.tracks.index",{},{reload:!0})})},t["delete"]=function(){return t.formSending=!0,t.track.remove().then(function(){return n.go("root.tracks.index",{},{reload:!0})})},t.openDeleteDialog=function(n){return i.show({controller:e,templateUrl:"app/components/mediaContent/track/views/delete-dialog.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0}).then(function(e){return t["delete"]()},function(){})}}]),e=["$scope","$mdDialog",function(e,t){return e.hide=function(){return t.hide()},e.cancel=function(){return t.cancel()},e.answer=function(e){return t.hide(e)}}],t.config(["$stateProvider",function(e){return e.state("root.tracks",{name:"tracks","abstract":!0,url:"tracks",template:"<ui-view/>"}).state("root.tracks.index",{name:"tracks.index",url:"/",templateUrl:"app/components/mediaContent/track/views/index.html",controller:"TrackIndexController"}).state("root.tracks.edit",{name:"tracks.edit",url:"/{trackId}/edit",templateUrl:"app/components/mediaContent/track/views/edit.html",controller:"TrackEditController",resolve:{auth:["$auth",function(e){return e.validateUser()}],producer:["trackRoles",function(e){return e.producer()}]}})}])}.call(this),function(){angular.module("uTunes").factory("TrackService",["Restangular","Upload",function(e,t){var n,r,a;return r="tracks",n=e.withConfig(function(e){return e.addRequestInterceptor(function(e,t,n,r){return"put"===t||"post"===t?(console.log("Put/Post"),console.dir(e),{track:e}):e})}),a=function(e,n,r){var a;return a={url:r,method:n,file:e.file,fields:{track:{title:e.title,length_in_seconds:e.length_in_seconds}}},console.log("Uploader"),console.dir(e),console.dir(a.file),t.upload(a).success(function(e,t,n,r){return console.log("files "+r.file.name+"uploaded. Response: "+e)}).error(function(e,t,n,r){return console.log("error status: "+t)})},{listTracks:function(){return n.all(r).getList()},searchTracks:function(e){return n.all(r).getList({search:e})},getTrack:function(e){return n.one(r,e).get()},getArtists:function(e){return n.one(r,e).getList("artists")},updateTrack:function(e,t){return e.file?a(e,"PUT","/api/tracks/"+t):e.put()},postToken:function(e){return n.one(r).customPOST({},"tokens",{token:e})}}}])}.call(this),function(){var e,t;t=angular.module("uTunes"),t.controller("ProducerIndexController",["$scope","ProducerService",function(e,t){return t.listProducers().then(function(t){return e.producers=t}),e.count=24}]),t.controller("ProducerShowController",["$scope","$stateParams","ProducerService","TrackService",function(e,t,n){return n.getProducer(t.producerId).then(function(t){return e.producer=t,console.dir(e.producer)}),n.getAlbums(t.producerId).then(function(t){return e.albums=t}),e.albumCount=6}]),t.controller("ProducerEditController",["$scope","$state","$stateParams","ProducerService","$mdDialog",function(t,n,r,a,o){return a.getProducer(r.producerId).then(function(e){return t.producer=e}),t.formsValid=!1,t.albumEdit=!1,t.artistEdit=!1,t.producerEdit=!0,t.trackEdit=!1,t.registerFormScope=function(e,n){return t.parentForm["childForm"+n]=e,console.dir(t.parentForm)},t.save=function(){return t.formSending=!0,a.updateProducer(t.producer,r.producerId).then(function(){return n.go("root.producers.show",{producerId:r.producerId})})},t["delete"]=function(){return t.formSending=!0,t.producer.remove().then(function(){return n.go("root.producers.index",{},{reload:!0})})},t.openDeleteDialog=function(n){return o.show({controller:e,templateUrl:"app/components/mediaContent/producer/views/delete-dialog.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0}).then(function(e){return t["delete"]()},function(){})}}]),e=["$scope","$mdDialog",function(e,t){return e.hide=function(){return t.hide()},e.cancel=function(){return t.cancel()},e.answer=function(e){return t.hide(e)}}],t.config(["$stateProvider",function(e){return e.state("root.producers",{name:"producers","abstract":!0,url:"producers",template:"<ui-view/>"}).state("root.producers.index",{name:"producers.index",url:"/",templateUrl:"app/components/mediaContent/producer/views/index.html",controller:"ProducerIndexController"}).state("root.producers.show",{name:"producers.show",url:"/{producerId}/show",templateUrl:"app/components/mediaContent/producer/views/show.html",controller:"ProducerShowController"}).state("root.producers.edit",{name:"producers.edit",url:"/{producerId}/edit",templateUrl:"app/components/mediaContent/producer/views/edit.html",controller:"ProducerEditController",resolve:{auth:["$auth",function(e){return e.validateUser()}],producer:["trackRoles",function(e){return e.producer()}]}})}])}.call(this),function(){angular.module("uTunes").factory("ProducerService",["Restangular","Upload",function(e,t){var n,r,a;return n=e.withConfig(function(e){return e.addRequestInterceptor(function(e,t,n,r){return"put"===t||"post"===t?{producer:e}:e})}),r="producers",a=function(e,n,r){var a;return a={url:r,method:n,file:e.file,fields:{producer:{name:e.name,class_year:e.class_year,bio:e.bio}}},console.log("Uploader"),console.dir(a.file),t.upload(a).success(function(e,t,n,r){return console.log("files "+r.file.name+"uploaded. Response: "+e)}).error(function(e,t,n,r){return console.log("error status: "+t)})},{listProducers:function(){return n.all(r).getList()},searchProducers:function(e){return n.all(r).getList({search:e})},getProducer:function(e){return n.one(r,e).get()},getAlbums:function(e){return n.one(r,e).getList("albums")},updateProducer:function(e,t){return e.file?a(e,"PUT","/api/producers/"+t):e.put()}}}])}.call(this),function(){var e,t;t=angular.module("uTunes"),t.controller("PlaylistIndexController",["$scope","PlaylistService","$state",function(e,t,n){return t.listPlaylists().then(function(t){return e.playlists=t}),e.headers=[{name:"Title",field:"title"},{name:"Author",field:"author"}],e.count=25}]),t.controller("PlaylistShowController",["$scope","PlaylistService","AlbumService","TrackService","$stateParams","onSelectTrack",function(e,t,n,r,a,o){return t.getPlaylist(a.playlistId).then(function(t){return e.playlist=t}),t.getTracks(a.playlistId).then(function(t){var a,o,i,s,d;for(e.tracks=t,i=e.tracks,s=[],a=0,o=i.length;o>a;a++)d=i[a],d.album=n.getAlbum(d.album_id).$object,s.push(d.artists=r.getArtists(d.id).$object);return s}),e.headers=[{name:"Title",field:"title"},{name:"Artists",field:"artists"},{name:"Album",field:"album"},{name:"Length",field:"length_in_seconds"}],e.$watch("user",function(t){return!e.user.role||"admin"!==e.user.role&&"producer"!==e.user.role?void 0:e.headers.push({name:"Download",field:"download"})},!0),e.count=25,e.playPlaylist=function(){return o.broadcast(e.tracks,0,!0)}}]),t.controller("PlaylistNewController",["$scope","PlaylistService","$state",function(e,t,n){return e.formSending=!1,e.playlist={title:"",user_id:e.user.id,author:e.user.name,is_public:!1},e.save=function(){return e.formSending=!0,t.createPlaylist(e.playlist).then(function(){return n.go("root.playlists.index",{},{reload:!0})})}}]),t.controller("PlaylistEditController",["$scope","PlaylistService","$stateParams","$state","AlbumService","TrackService","$mdDialog",function(t,n,r,a,o,i,s){return t.formSending=!1,n.getPlaylist(r.playlistId).then(function(e){return t.playlist=e}),n.getTracks(r.playlistId).then(function(e){var n,r,a,s;for(t.tracks=e,a=t.tracks,n=0,r=a.length;r>n;n++)s=a[n],s.album=o.getAlbum(s.album_id).$object,s.artists=i.getArtists(s.id).$object,s._remove=!1;return t.playlist.tracks=t.tracks,console.dir(t.playlist)}),t.headers=[{name:"Title",field:"title"},{name:"Artists",field:"artists"},{name:"Album",field:"album"},{name:"Length",field:"length_in_seconds"},{name:"Remove",field:"remove"}],t.count=25,t.save=function(){return t.formSending=!0,n.updatePlaylist(t.playlist,r.playlistId).then(function(){return a.go("root.playlists.index",{},{reload:!0})})},t.openDeleteDialog=function(n){return s.show({controller:e,templateUrl:"app/components/mediaContent/playlist/views/delete-dialog.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0}).then(function(e){return t["delete"]()},function(){})},t["delete"]=function(){return t.formSending=!0,t.playlist.remove().then(function(){return a.go("root.playlists.index",{},{reload:!0})})}}]),e=["$scope","$mdDialog",function(e,t){return e.hide=function(){return t.hide()},e.cancel=function(){return t.cancel()},e.answer=function(e){return t.hide(e)}}],t.config(["$stateProvider",function(e){return e.state("root.playlists",{name:"playlists","abstract":!0,url:"playlists",template:"<ui-view/>"}).state("root.playlists.index",{name:"playlists.index",url:"/",templateUrl:"app/components/mediaContent/playlist/views/index.html",controller:"PlaylistIndexController"}).state("root.playlists.show",{name:"playlists.show",url:"/{playlistId}/show",templateUrl:"app/components/mediaContent/playlist/views/show.html",controller:"PlaylistShowController"}).state("root.playlists.new",{name:"playlists.new",url:"/new",templateUrl:"app/components/mediaContent/playlist/views/new.html",controller:"PlaylistNewController",resolve:{auth:["$auth",function(e){return e.validateUser()}]}}).state("root.playlists.edit",{name:"playlists.edit",url:"/{playlistId}/edit",templateUrl:"app/components/mediaContent/playlist/views/edit.html",controller:"PlaylistEditController",resolve:{auth:["$auth",function(e){return e.validateUser()}]}})}])}.call(this),function(){var e;e=angular.module("uTunes"),e.directive("playlistTable",["PlaylistService",function(e){var t;return t={restrict:"E",scope:{content:"=",headers:"=",count:"="},templateUrl:"app/components/mediaContent/playlist/playlist-table.html",controller:["$scope","$filter","$window","onSelectTrack","PlaylistService",function(e,t,n,r,a){var o,i,s,d;return o=t("orderBy"),e.tablePage=0,d=["title","author"],e.handleSort=function(e){return d.indexOf(e)>-1?!0:!1},e.order=function(t,n){return e.content="artists"===t?o(e.content,s,n):"album"===t?o(e.content,i,n):o(e.content,t,n),e.predicate=t},e.order("title",!1),s=function(e){var t,n,r,a,o;for(n=[],o=e.artists,r=0,a=o.length;a>r;r++)t=o[r],n.push(t.name);return n},i=function(e){return e.album.title},e.numberOfPages=function(){return Math.ceil(e.content.length/e.count)},e.getNumber=function(e){return new Array(e)},e.goToPage=function(t){return e.tablePage=t},e.playPlaylist=function(e){return a.getTracks(e).then(function(e){return console.dir(e),r.broadcast(e,0,!0)})}}]}}]),e.filter("startFrom",function(){return function(e,t){return t=+t,e.slice(t)}})}.call(this),function(){angular.module("uTunes").factory("PlaylistService",["Restangular",function(e){var t,n;return t=e.withConfig(function(e){return e.addRequestInterceptor(function(e,t,n,r){return"put"===t||"post"===t?(console.dir(e),{playlist:e}):e})}),n="playlists",{listPlaylists:function(){return t.all(n).getList()},searchPlaylists:function(e){return t.all(n).getList({search:e})},getPlaylist:function(e){return t.one(n,e).get()},getUserPlaylists:function(e){return t.one("users",e).getList(n)},getTracks:function(e){return t.one(n,e).getList("tracks")},createPlaylist:function(e){return t.service(n).post(e)},updatePlaylist:function(e){return e.put()},addTrackToPlaylist:function(e,t){return e.tracks||(e.tracks=[]),e.tracks.push(t),e.put()}}}])}.call(this),function(){angular.module("uTunes").directive("gridList",["AlbumService","ArtistService","onSelectTrack",function(e,t,n){var r;return r={restrict:"E",scope:{items:"=",type:"=",count:"="},templateUrl:"app/components/mediaContent/gridList/grid-list.html",controller:["$scope","$element","AlbumService","ArtistService","onSelectTrack",function(e,t,n,r,a){var o;return e.mousedOver=null,e.reverse=0,e.tablePage=0,e.orderProp="title",o=function(t){var n,r,a,o,i;for(i=[],n=0,a=t.length;a>n;n++)r=t[n],o=angular.extend({},{title:"",year:"",image:"",id:""}),o.id=r.id,"album"===e.type?(o.title=r.title,o.year=r.year,o.image=r.cover_image):(o.title=r.name,o.year=r.class_year,o.image=r.profile_picture),i.push(o);return i},e.numberOfPages=function(){return Math.ceil(e.tiles.length/e.count)},e.getNumber=function(e){return new Array(e)},e.goToPage=function(t){return e.tablePage=t},e.playItem=function(t){return"album"===e.type?n.getTracks(t).then(function(e){return a.broadcast(e,0,!0)}):"artist"===e.type?r.getTracks(t).then(function(e){return a.broadcast(e,0,!0)}):void 0},e.$watch("items",function(t){return t?(e.props=[],e.props="album"===e.type?[{name:"Title",field:"title"},{name:"Year",field:"year"}]:[{name:"Name",field:"title"},{name:"Class Year",field:"year"}],e.tiles=o(e.items)):void 0},!0)}]}}])}.call(this),function(){var e,t;t=angular.module("uTunes"),t.controller("ArtistIndexController",["$scope","ArtistService",function(e,t){return t.listArtists().then(function(t){return e.artists=t.plain()}),e.count=24}]),t.controller("ArtistShowController",["$scope","$stateParams","ArtistService","TrackService","AlbumService",function(e,t,n,r,a){return n.getArtist(t.artistId).then(function(t){return e.artist=t}),n.getAlbums(t.artistId).then(function(t){return e.albums=t.plain()}),n.getTracks(t.artistId).then(function(t){var n,o,i,s,d;for(e.tracks=t,i=e.tracks,s=[],n=0,o=i.length;o>n;n++)d=i[n],d.album=a.getAlbum(d.album_id).$object,s.push(d.artists=r.getArtists(d.id).$object);return s}),e.headers=[{name:"Title",field:"title"},{name:"Artists",field:"artists"},{name:"Album",field:"album"},{name:"Length",field:"length_in_seconds"}],e.trackCount=25,e.albumCount=6,e.$watch("user",function(t){return!e.user.role||"admin"!==e.user.role&&"producer"!==e.user.role?void 0:e.headers.push({name:"Download",field:"download"})},!0)}]),t.controller("ArtistEditController",["$scope","$state","$stateParams","ArtistService","$mdDialog",function(t,n,r,a,o){return a.getArtist(r.artistId).then(function(e){return t.artist=e}),t.formsValid=!1,t.albumEdit=!1,t.artistEdit=!0,t.producerEdit=!1,t.trackEdit=!1,t.registerFormScope=function(e,n){return t.parentForm["childForm"+n]=e,console.dir(t.parentForm)},t.save=function(){return t.formSending=!0,a.updateArtist(t.artist,r.artistId).then(function(){return n.go("root.artists.show",{artistId:r.artistId})})},t.openDeleteDialog=function(n){return o.show({controller:e,templateUrl:"app/components/mediaContent/artist/views/delete-dialog.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0}).then(function(e){return t.artist.delete_associated_tracks=e[0],t["delete"]()},function(){})},t["delete"]=function(){return t.formSending=!0,t.artist.remove({delete_associated_tracks:t.artist.delete_associated_tracks}).then(function(){return n.go("root.artists.index",{},{reload:!0})})}}]),e=["$scope","$mdDialog",function(e,t){return e.deleteAssociatedTracks=!1,e.hide=function(){return t.hide()},e.cancel=function(){return t.cancel()},e.answer=function(e){return console.log(e),t.hide([e])}}],t.config(["$stateProvider",function(e){return e.state("root.artists",{name:"artists","abstract":!0,url:"artists",template:"<ui-view/>"}).state("root.artists.index",{name:"artists.index",url:"/",templateUrl:"app/components/mediaContent/artist/views/index.html",controller:"ArtistIndexController"}).state("root.artists.show",{name:"artists.show",url:"/{artistId}/show",templateUrl:"app/components/mediaContent/artist/views/show.html",controller:"ArtistShowController"}).state("root.artists.edit",{name:"artists.edit",url:"/{artistId}/edit",templateUrl:"app/components/mediaContent/artist/views/edit.html",controller:"ArtistEditController",resolve:{auth:["$auth",function(e){return e.validateUser()}],producer:["trackRoles",function(e){return e.producer()}]}})}])}.call(this),function(){angular.module("uTunes").factory("ArtistService",["Restangular","Upload",function(e,t){var n,r,a;return n=e.withConfig(function(e){return e.addRequestInterceptor(function(e,t,n,r){return"put"===t||"post"===t?{artist:e}:e})}),r="artists",a=function(e,n,r){var a;return a={url:r,method:n,file:e.file,fields:{artist:{name:e.name,class_year:e.class_year,bio:e.bio}}},console.log("Uploader"),console.dir(a.file),t.upload(a).success(function(e,t,n,r){return console.log("files "+r.file.name+"uploaded. Response: "+e)}).error(function(e,t,n,r){return console.log("error status: "+t)})},{listArtists:function(){return n.all(r).getList()},searchArtists:function(e){return n.all(r).getList({search:e})},getArtist:function(e){return n.one(r,e).get()},getTracks:function(e){return n.one(r,e).getList("tracks")},getAlbums:function(e){return n.one(r,e).getList("albums")},updateArtist:function(e,t){return e.file?a(e,"PUT","/api/artists/"+t):e.put()}}}])}.call(this),function(){var e,t;t=angular.module("uTunes"),t.controller("AlbumIndexController",["$scope","AlbumService",function(e,t,n){return t.listAlbums().then(function(t){return e.albums=t}),e.count=24}]),t.controller("AlbumShowController",["$scope","$stateParams","AlbumService","TrackService","onSelectTrack",function(e,t,n,r,a){return n.getAlbum(t.albumId).then(function(t){return e.album=t}),n.getTracks(t.albumId).then(function(t){var a,o,i,s,d;for(e.tracks=t,i=e.tracks,s=[],a=0,o=i.length;o>a;a++)d=i[a],d.artists=r.getArtists(d.id).$object,s.push(d.album=n.getAlbum(d.album_id).$object);return s}),n.getProducers(t.albumId).then(function(t){return t.length>0?e.producers=t:void 0}),e.headers=[{name:"Track Number",field:"track_number"},{name:"Title",field:"title"},{name:"Artists",field:"artists"},{name:"Length",field:"length_in_seconds"}],e.$watch("user",function(t){return!e.user.role||"admin"!==e.user.role&&"producer"!==e.user.role?void 0:e.headers.push({name:"Download",field:"download"})},!0),e.trackCount=25,e.producerCount=6,e.playAlbum=function(){return a.broadcast(e.tracks,0,!0)}}]),t.controller("AlbumNewController",["$scope","$state","AlbumService",function(e,t,n){return e.album={producers:[{name:"",class_year:"",bio:""}],tracks:[{artists:[{name:"",class_year:"",bio:""}],track_number:"",title:"",length_in_seconds:"",file:""}],file:""},e.trackNumbers=[],e.formsValid=!1,e.albumEdit=!1,e.artistEdit=!1,e.producerEdit=!1,e.trackEdit=!1,e.registerFormScope=function(t,n){return e.parentForm["childForm"+n]=t},e.save=function(){return e.parentForm.$valid&&(e.formSending=!0,n.createAlbum(e.album).then(function(){return t.go("root.albums.index",{},{reload:!0})})),e.formsValid=e.parentForm.$valid},e.addProducer=function(){return e.album.producers.push({name:"",class_year:"",bio:""})},e.removeProducer=function(e,t){var n;return n=t.producers[e],n.id?n._destroy=!0:t.producers.splice(e,1)},e.addTrack=function(){return e.album.tracks.push({artists:[{name:"",class_year:"",bio:""}],track_number:"",title:"",length_in_seconds:"",file:""})},e.removeTrack=function(t,n){var r;return r=n.tracks[t],r.id?r._destroy=!0:n.tracks.splice(t,1),console.dir(e.album)},e.hasTracks=function(e){return e>0?!0:!1},e.$watch(function(){return e.album.tracks.length},function(t){return e.tracksLength=t},!0)}]),t.controller("AlbumEditController",["$scope","$state","$stateParams","AlbumService","TrackService","$mdDialog",function(t,n,r,a,o,i){return t.trackNumbers=[],a.getAlbum(r.albumId).then(function(e){return t.album=e,console.dir(t.album)}),a.getProducers(r.albumId).then(function(e){return t.producers=e}),a.getTracks(r.albumId).then(function(e){var n,r,i,s,d;for(t.tracks=e,i=t.tracks,s=[],n=0,r=i.length;r>n;n++)d=i[n],t.trackNumbers.push(d.track_number),d.artists=o.getArtists(d.id).$object,s.push(d.album=a.getAlbum(d.album_id).$object);return s}),t.formsValid=!1,t.albumEdit=!0,t.artistEdit=!1,t.producerEdit=!1,t.trackEdit=!1,t.registerFormScope=function(e,n){return t.parentForm["childForm"+n]=e},t.headers=[{name:"Track Number",field:"track_number"},{name:"Title",field:"title"},{name:"Artists",field:"artists"},{name:"Length",field:"length_in_seconds"},{name:"Edit",field:"edit"}],t.count=25,t.addProducer=function(){return t.album.producers||(t.album.producers=[]),t.album.producers.push({name:"",class_year:"",bio:""})},t.removeProducer=function(e,t){var n;return n=t.producers[e],n.id?void 0:t.producers.splice(e,1)},t.removeProducerAssociation=function(e){return e._remove=!0,t.album.producers||(t.album.producers=[]),t.album.producers.push(e)},t.addTrack=function(){return t.album.tracks||(t.album.tracks=[]),t.album.tracks.push({artists:[{name:"",class_year:"",bio:""}],track_number:"",title:"",length_in_seconds:"",file:""}),console.dir(t.album.tracks)},t.removeTrack=function(e,t){var n;return n=t.tracks[e],n.id?n._destroy=!0:t.tracks.splice(e,1),console.dir(t.tracks)},t.save=function(){return t.formSending=!0,
a.updateAlbum(t.album,r.albumId).then(function(){return n.go("root.albums.show",{albumId:r.albumId})})},t.openDeleteDialog=function(n){return i.show({controller:e,templateUrl:"app/components/mediaContent/album/views/delete-dialog.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0}).then(function(e){return t["delete"]()},function(){})},t["delete"]=function(){return t.formSending=!0,t.album.remove().then(function(){return n.go("root.albums.index",{},{reload:!0})})}}]),e=["$scope","$mdDialog",function(e,t){return e.hide=function(){return t.hide()},e.cancel=function(){return t.cancel()},e.answer=function(e){return t.hide(e)}}],t.config(["$stateProvider",function(e){return e.state("root.albums",{name:"albums","abstract":!0,url:"albums",template:"<ui-view/>"}).state("root.albums.index",{name:"albums.index",url:"/",templateUrl:"app/components/mediaContent/album/views/index.html",controller:"AlbumIndexController"}).state("root.albums.show",{name:"albums.show",url:"/{albumId}/show",templateUrl:"app/components/mediaContent/album/views/show.html",controller:"AlbumShowController"}).state("root.albums.new",{name:"albums.new",url:"/new",templateUrl:"app/components/mediaContent/album/views/new.html",controller:"AlbumNewController",resolve:{auth:["$auth",function(e){return e.validateUser()}],producer:["trackRoles",function(e){return e.producer()}]}}).state("root.albums.edit",{name:"albums.edit",url:"/{albumId}/edit",templateUrl:"app/components/mediaContent/album/views/edit.html",controller:"AlbumEditController",resolve:{auth:["$auth",function(e){return e.validateUser()}],producer:["trackRoles",function(e){return e.producer()}]}})}])}.call(this),function(){angular.module("uTunes").factory("AlbumService",["Restangular","Upload",function(e,t){var n,r,a;return n=e.withConfig(function(e){return e.addRequestInterceptor(function(e,t,n,r){return"put"===t||"post"===t?(console.log("Restangular"),console.dir(e),{album:e}):e})}),r="albums",a=function(e,n,r){var a,o,i,s,d,l,c;if(a=[],s=[],console.dir(e),e.file&&(a.push(e.file),s.push(e.file.name)),e.tracks)for(l=e.tracks,o=0,i=l.length;i>o;o++)c=l[o],a.push(c.file),s.push(c.track_number);return d={url:r,method:n,file:a,fileFormDataName:s,fields:{album:{title:e.title,year:e.year,description:e.description,cover_designer:e.cover_designer,producers:e.producers,tracks:e.tracks}}},console.log("Uploader"),console.dir(d.file),console.dir(d.fileFormDataName),t.upload(d).success(function(e,t,n,r){return console.log("files "+r.file.name+"uploaded. Response: "+e)}).error(function(e,t,n,r){return console.log("error status: "+t)})},{listAlbums:function(){return n.all(r).getList()},searchAlbums:function(e){return n.all(r).getList({search:e})},getAlbum:function(e){return n.one(r,e).get()},getTracks:function(e){return n.one(r,e).getList("tracks")},getProducers:function(e){return n.one(r,e).getList("producers")},createAlbum:function(e){return a(e,"POST","/api/albums")},updateAlbum:function(e,t){return e.file||e.tracks?a(e,"PUT","/api/albums/"+t):e.put()}}}])}.call(this),function(){var e,t;t=angular.module("uTunes"),t.controller("UserIndexController",["$scope","UserService",function(e,t){return t.listUsers().then(function(t){return e.users=t}),e.headers=[{name:"Name",field:"name"},{name:"Email",field:"email"},{name:"Role",field:"role"},{name:"Edit",field:"edit"}],e.count=25}]),t.controller("UserNewController",["$scope","$auth",function(e,t){return e.handleRegBtnClick=function(){return console.log("Registration"),t.submitRegistration(e.registrationForm).then(function(){return t.submitLogin({email:e.registrationForm.email,password:e.registrationForm.password})})},e.$on("auth:registration-email-error",function(t,n){return e.errors=n.errors})}]),t.controller("UserEditController",["$scope","$auth","$mdDialog","$state",function(t,n,r,a){return t.$on("auth:account-update-error",function(e,n){return t.errors=n.errors}),t.openDeleteDialog=function(n){return r.show({controller:e,templateUrl:"app/components/users/views/delete-dialog.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0}).then(function(e){return t["delete"]()},function(){})},t.save=function(){return t.formSending=!0,n.updateAccount(t.updateAccountForm).then(function(){return a.go("root.posts.index")})["catch"](function(){})},t["delete"]=function(){return t.formSending=!0,n.destroyAccount().then(function(){return a.go("root.posts.index")})["catch"](function(){})}}]),t.controller("UserAdminEditController",["$scope","$state","$stateParams","UserService","$mdDialog",function(t,n,r,a,o){return t.formSending=!1,a.getUser(r.userId).then(function(e){return console.dir(e),t.otheruser=e}),t.save=function(){return t.formSending=!0,a.updateUser(t.otheruser).then(function(){return n.go("root.users.index",{},{reload:!0})})["catch"](function(e){return t.errors=e.data,t.formSending=!1})},t.openDeleteDialog=function(n){return o.show({controller:e,templateUrl:"app/components/users/views/admin-delete-dialog.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0}).then(function(e){return t["delete"]()},function(){})},t["delete"]=function(){return t.formSending=!0,t.otheruser.remove({admin_password:t.otheruser.admin_password}).then(function(){return n.go("root.users.index",{},{reload:!0})})["catch"](function(e){return t.errors=e.data,t.formSending=!1})}}]),e=["$scope","$mdDialog",function(e,t){return e.hide=function(){return t.hide()},e.cancel=function(){return t.cancel()},e.answer=function(e){return t.hide(e)}}],t.config(["$stateProvider",function(e){return e.state("root.users",{name:"users","abstract":!0,url:"users",template:"<ui-view/>"}).state("root.users.index",{name:"users.index",url:"/",templateUrl:"app/components/users/views/index.html",controller:"UserIndexController",resolve:{auth:["$auth",function(e){return e.validateUser()}],admin:["trackRoles",function(e){return e.admin()}]}}).state("root.users.new",{name:"users.new",url:"/new",templateUrl:"app/components/users/views/new.html",controller:"UserNewController"}).state("root.users.edit",{name:"users.edit",url:"/{userId}/edit",templateUrl:"app/components/users/views/edit.html",controller:"UserEditController",resolve:{auth:["$auth",function(e){return e.validateUser()}]}}).state("root.users.adminEdit",{name:"users.adminEdit",url:"/admin/{userId}/edit",templateUrl:"app/components/users/views/admin-edit.html",controller:"UserAdminEditController",resolve:{auth:["$auth",function(e){return e.validateUser()}],admin:["trackRoles",function(e){return e.admin()}]}})}])}.call(this),function(){var e;e=angular.module("uTunes"),e.directive("userTable",function(){var e;return e={restrict:"E",scope:{content:"=",headers:"=",count:"="},templateUrl:"app/components/users/user-table.html",controller:["$scope","$filter","$window","onSelectTrack",function(e,t,n,r){var a,o,i,s;return a=t("orderBy"),e.tablePage=0,s=["name","email","role"],e.handleSort=function(e){return s.indexOf(e)>-1?!0:!1},e.order=function(t,n){return e.content="artists"===t?a(e.content,i,n):"album"===t?a(e.content,o,n):a(e.content,t,n),e.predicate=t},e.order("title",!1),i=function(e){var t,n,r,a,o;for(n=[],o=e.artists,r=0,a=o.length;a>r;r++)t=o[r],n.push(t.name);return n},o=function(e){return e.album.title},e.numberOfPages=function(){return Math.ceil(e.content.length/e.count)},e.getNumber=function(e){return new Array(e)},e.goToPage=function(t){return e.tablePage=t}}]}}),e.filter("startFrom",function(){return function(e,t){return t=+t,e.slice(t)}})}.call(this),function(){angular.module("uTunes").factory("UserService",["Restangular",function(e){var t,n;return t=e.withConfig(function(e){return e.addRequestInterceptor(function(e,t,n,r){return"put"===t||"post"===t?{user:e}:e})}),n="users",{listUsers:function(){return t.all(n).getList()},getUser:function(e){return t.one(n,e).get()},updateUser:function(e){return e.put()}}}])}.call(this),function(){var e;e=angular.module("uTunes"),e.controller("UserSessionsController",["$scope",function(e){return e.$on("auth:login-error",function(t,n){return e.errors=n.errors})}])}.call(this),function(){var e,t;t=angular.module("uTunes"),t.directive("trackTable",function(){var t;return t={restrict:"E",scope:{tracks:"=",headers:"=",count:"="},templateUrl:"app/components/trackTable/track-table.html",controller:["$scope","$filter","$window","$mdDialog","onSelectTrack","PlaylistService","TrackService","rfc4122",function(t,n,r,a,o,i,s,d){var l,c,u,m,p;return l=n("orderBy"),t.tablePage=0,t.playingTrack=null,p=["track_number","title","artists","album","length_in_seconds"],t.handleSort=function(e){return p.indexOf(e)>-1?!0:!1},t.order=function(e,n){return t.tracks="artists"===e?l(t.tracks,u,n):"album"===e?l(t.tracks,c,n):l(t.tracks,e,n),t.predicate=e},t.order("track_number",!1),u=function(e){var t,n,r,a,o;for(n=[],o=e.artists,r=0,a=o.length;a>r;r++)t=o[r],n.push(t.name);return n},c=function(e){return e.album.title},t.numberOfPages=function(){return Math.ceil(t.tracks.length/t.count)},t.getNumber=function(e){return new Array(e)},t.goToPage=function(e){return t.tablePage=e},t.playTrack=function(e,n){return o.broadcast(t.tracks,e+t.tablePage*t.count,!1)},m=null,t.$root.user.signedIn&&(t.menuOptions=[["Add to Playlist",function(e){return t.showPlaylists(e,t.menuTrack)}]]),t.downloadFile=function(e){var n;return"admin"===t.$root.user.role||"producer"===t.$root.user.role?(n=d.v4(),s.postToken(n).then(function(){var t;return t="/api/"+e+"?uid="+n,r.location.assign(t)})):void 0},t.setMenuTrack=function(e){return t.menuTrack=e,console.dir(t.menuTrack)},t.showPlaylists=function(n,r){return console.dir(t.playlists),a.show({controller:e,templateUrl:"app/components/trackTable/playlist-dialog.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0}).then(function(e){var n,r,a,o;for(o=[],n=0,r=e.length;r>n;n++)a=e[n],a.id?o.push(i.addTrackToPlaylist(a,t.menuTrack)):(a.tracks=[],a.seed_track_id=t.menuTrack.id,o.push(i.createPlaylist(a)));return o},function(){return console.log("Dialog closed")})},t.$on("trackplaying",function(e,n){return t.playingTrack=n})}]}}),e=["$scope","$mdDialog","PlaylistService",function(e,t,n){return n.getUserPlaylists(e.$root.user.id).then(function(t){return e.playlists=t}),e.newPlaylist={title:"",user_id:e.$root.user.id,author:e.$root.user.name,is_public:!1,wanted:!0},e.hide=function(){return t.hide()},e.cancel=function(){return console.log("Cancel clicked"),t.cancel()},e.answer=function(){var n,r,a,o,i;for(i=[],o=e.playlists,n=0,r=o.length;r>n;n++)a=o[n],a.wanted&&(delete a.wanted,i.push(a));return e.newPlaylist.title&&(delete e.newPlaylist.wanted,i.push(e.newPlaylist)),console.dir(i),t.hide(i)}}]}.call(this),function(){angular.module("uTunes").directive("sidebarRight",function(){var e;return e={restrict:"E",scope:{},templateUrl:"app/components/sidebarRight/sidebar-right.html",controller:["$scope","$element","$timeout","$mdSidenav","$auth","$state",function(e,t,n,r,a,o){return e.user=e.$root.user,e.login="app/components/userSessions/views/new.html",e.signup="app/components/users/views/new.html",e.template=e.login,e.close=function(){return r("right").close()},e.goTo=function(t,n,r){return o.go(n,r,{reload:!0}),e.close()},e.switchLogin=function(){return e.template=e.template===e.login?e.signup:e.login},e.submitLogin=function(t){return a.submitLogin(t).then(function(t){return e.close()})["catch"](function(e){})},e.signOut=function(){return a.signOut().then(function(e){return o.go("root.posts.index",{},{reload:!0})})["catch"](function(e){})},e.handleRegBtnClick=function(t){return console.log("Registration"),a.submitRegistration(t).then(function(){return o.go("root.emailnotif",{},{reload:!1})}),e.close()},e.$on("auth:login-error",function(t,n){return e.errors=n.errors})}]}})}.call(this),function(){angular.module("uTunes").directive("sidebarLeft",function(){var e;return e={restrict:"E",scope:{},templateUrl:"app/components/sidebarLeft/sidebar-left.html",controller:["$scope","$element","$timeout","$mdSidenav","$state",function(e,t,n,r,a){return e.$on("trackplaying",function(t,n){return e.track=n}),e.$watch(function(){return a.current.name},function(t){return e.state=a.current.name},!0),e.close=function(){return r("left").close()},e.goTo=function(t,n){return a.go(n,{},{reload:!1}),e.close()}}]}})}.call(this),function(){var e;e=angular.module("uTunes"),e.directive("searchbar",function(){var e;return e={restrict:"E",scope:"",templateUrl:"app/components/search/searchbar.html",controller:function(e,t,n){return e.submit=function(){return console.log("Submitted"),n.go("root.search",{searchParams:e.searchParams})}}}})}.call(this),function(){var e;e=angular.module("uTunes"),e.controller("SearchResultsController",["$scope","AlbumService","ArtistService","TrackService","ProducerService","PlaylistService","$stateParams",function(e,t,n,r,a,o,i){var s;return s=i.searchParams,e.albumsLoaded=!1,e.artistsLoaded=!1,e.producersLoaded=!1,e.tracksLoaded=!1,e.playlistsLoaded=!1,t.searchAlbums(s).then(function(t){return e.albums=t,e.albumsLoaded=!0}),a.searchProducers(s).then(function(t){return e.producers=t,e.producersLoaded=!0}),n.searchArtists(s).then(function(t){return e.artists=t,e.artistsLoaded=!0}),o.searchPlaylists(s).then(function(t){return e.playlists=t,e.playlistsLoaded=!0}),r.searchTracks(s).then(function(n){var a,o,i,s;for(e.tracks=n,i=e.tracks,a=0,o=i.length;o>a;a++)s=i[a],s.album=t.getAlbum(s.album_id).$object,s.artists=r.getArtists(s.id).$object;return e.tracksLoaded=!0}),e.trackHeaders=[{name:"Title",field:"title"},{name:"Artists",field:"artists"},{name:"Album",field:"album"},{name:"Length",field:"length_in_seconds"}],!e.user.role||"admin"!==e.user.role&&"producer"!==e.user.role||e.trackHeaders.push({name:"Edit",field:"edit"}),e.playlistHeaders=[{name:"Title",field:"title"},{name:"Author",field:"author"}],e.trackCount=25,e.playlistCount=25,e.albumCount=6,e.producerCount=6,e.artistCount=6}]),e.config(["$stateProvider",function(e){return e.state("root.search",{name:"search",url:"search/{searchParams}",templateUrl:"app/components/search/results.html",controller:"SearchResultsController"})}])}.call(this),function(){var e,t;t=angular.module("uTunes"),t.controller("PostIndexController",["$scope","PostService","$state","$filter",function(e,t,n,r){var a;return t.listPosts().then(function(t){var o,i,s,d;for(e.posts=t,d=e.posts,o=0,i=d.length;i>o;o++)s=d[o],s.content=r("cut")(s.content,!0,1400,"...",n.href("root.posts.show",{postId:s.id}));return e.posts=r("orderBy")(e.posts,a,!0)}),e["delete"]=function(e){return e.remove().then(function(){return n.go("root.posts.index",{},{reload:!0})})},a=function(e){return e.updated_at}}]),t.controller("PostShowController",["$scope","PostService","$stateParams",function(e,t,n){return t.getPost(n.postId).then(function(t){return e.post=t})}]),t.controller("PostNewController",["$scope","PostService","$state",function(e,t,n){return e.formSending=!1,e.post={title:"",content:"",user_id:e.user.id,author:e.user.name},e.save=function(){return e.formSending=!0,t.createPost(e.post).then(function(){return n.go("root.posts.index",{},{reload:!0})})}}]),t.controller("PostEditController",["$scope","PostService","$stateParams","$state","$mdDialog",function(t,n,r,a,o){return t.formSending=!1,n.getPost(r.postId).then(function(e){return t.post=e}),t.save=function(){return t.formSending=!0,n.updatePost(t.post,r.postId).then(function(){return a.go("root.posts.index",{},{reload:!0})})},t["delete"]=function(){return t.formSending=!0,t.post.remove().then(function(){return a.go("root.posts.index",{},{reload:!0})})},t.openDeleteDialog=function(n){return o.show({controller:e,templateUrl:"app/components/posts/views/delete-dialog.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0}).then(function(e){return t["delete"]()},function(){})}}]),e=["$scope","$mdDialog",function(e,t){return e.hide=function(){return t.hide()},e.cancel=function(){return t.cancel()},e.answer=function(e){return t.hide(e)}}],t.config(["$stateProvider",function(e){return e.state("root.posts.show",{name:"posts.show",url:"/posts/{postId}/show",templateUrl:"app/components/posts/views/show.html",controller:"PostShowController"}).state("root.posts.new",{name:"posts.new",url:"/posts/new",templateUrl:"app/components/posts/views/new.html",controller:"PostNewController",resolve:{auth:["$auth",function(e){return e.validateUser()}],producer:["trackRoles",function(e){return e.producer()}]}}).state("root.posts.edit",{name:"posts.edit",url:"/posts/{postId}/edit",templateUrl:"app/components/posts/views/edit.html",controller:"PostEditController",resolve:{auth:["$auth",function(e){return e.validateUser()}],producer:["trackRoles",function(e){return e.producer()}]}})}])}.call(this),function(){angular.module("uTunes").factory("PostService",["Restangular","Upload",function(e,t){var n,r,a;return n=e.withConfig(function(e){return e.addRequestInterceptor(function(e,t,n,r){return"put"===t||"post"===t?{post:e}:e})}),r="posts",a=function(e,n,r){var a;return a={url:r,method:n,file:e.file,fields:{post:{title:e.title,content:e.content,user_id:e.user_id,author:e.author}}},console.log("Uploader"),console.dir(a.file),console.dir(e),t.upload(a).success(function(e,t,n,r){return console.log("files "+r.file.name+"uploaded. Response: "+e)}).error(function(e,t,n,r){return console.log("error status: "+t)})},{listPosts:function(){return n.all(r).getList()},getPost:function(e){return n.one(r,e).get()},createPost:function(e){return e.file?a(e,"POST","/api/posts"):n.service(r).post(e)},updatePost:function(e,t){return e.file?a(e,"PUT","/api/posts/"+t):e.put()}}}])}.call(this),function(){var e,t;angular.module("uTunes").directive("playingToast",[function(){var e;return e={restrict:"E",scope:{},template:"",controller:["$scope","$element","$timeout","$mdToast","$document",function(e,n,r,a,o){return e.$on("trackplaying",function(e,n){return console.log("A track is playing"),a.show({controller:t,templateUrl:"app/components/playingToast/playing-toast.html",parent:o[0].querySelector("playing-toast"),hideDelay:0,locals:{trackId:n.id},position:"bottom right"})})}]}}]),t=["$scope","$mdToast","$mdDialog","TrackService","AlbumService","PlaylistService","trackId",function(t,n,r,a,o,i,s){return a.getTrack(s).then(function(e){return t.track=e,t.track.album=o.getAlbum(e.album_id).$object,t.track.artists=a.getArtists(e.id).$object,console.dir(t.track)}),t.$on("trackfinished",function(e,t){return n.hide()}),t.showPlaylists=function(n){return r.show({controller:e,templateUrl:"app/components/trackTable/playlist-dialog.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0}).then(function(e){var n,r,a,o;for(o=[],n=0,r=e.length;r>n;n++)a=e[n],a.id?o.push(i.addTrackToPlaylist(a,t.track)):(a.tracks=[],a.seed_track_id=t.track.id,o.push(i.createPlaylist(a)));return o},function(){return console.log("Dialog closed")})}}],e=["$scope","$mdDialog","PlaylistService",function(e,t,n){return n.getUserPlaylists(e.$root.user.id).then(function(t){return e.playlists=t}),e.newPlaylist={title:"",user_id:e.$root.user.id,author:e.$root.user.name,is_public:!1,wanted:!0},e.hide=function(){return t.hide()},e.cancel=function(){return console.log("Cancel clicked"),t.cancel()},e.answer=function(){var n,r,a,o,i;for(i=[],o=e.playlists,n=0,r=o.length;r>n;n++)a=o[n],a.wanted&&(delete a.wanted,i.push(a));return e.newPlaylist.title&&(delete e.newPlaylist.wanted,i.push(e.newPlaylist)),console.dir(i),t.hide(i)}}]}.call(this),function(){angular.module("uTunes").directive("navbar",function(){var e;return e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",controller:["$scope","$element","$timeout","$mdSidenav","$mdUtil",function(e,t,n,r,a){var o;return o=function(e){return a.debounce(function(){return r(e).toggle().then()},200)},e.toggleLeft=o("left"),e.toggleRight=o("right")}]}})}.call(this),function(){var e;e=angular.module("uTunes"),e.controller("MainController",["$scope",function(e){}])}.call(this),function(){var e;e=angular.module("uTunes"),e.factory("onSelectTrack",["$rootScope",function(e){return{broadcast:function(t,n,r){var a,o,i,s,d,l,c;for(s=[],a=o=d=n,l=t.length-1;l>=d?l>=o:o>=l;a=l>=d?++o:--o)s.push(t[a]);if(0!==n)for(a=i=0,c=n-1;c>=0?c>=i:i>=c;a=c>=0?++i:--i)s.push(t[a]);return e.$broadcast("selecttrack",s,r)}}}]),e.factory("onTrackPlaying",["$rootScope",function(e){return{broadcast:function(t){return e.$broadcast("trackplaying",t)}}}]),e.factory("onTrackFinished",["$rootScope",function(e){return{broadcast:function(t){return e.$broadcast("trackfinished",t)}}}]),e.factory("trackRoles",["$q","$timeout","$rootScope",function(e,t,n){var r;return r=n.user,{admin:function(){var n;return n=e.defer(),t(function(){return"admin"===r.role?n.resolve(r):n.reject("User is not an admin")},500),n.promise},producer:function(){var n;return n=e.defer(),t(function(){return"producer"===r.role||"admin"===r.role?n.resolve(r):n.reject("User is not a producer")},500),n.promise},user:function(){var n;return n=e.defer(),t(function(){return"user"===r.role||"producer"===r.role||"admin"===r.role?n.resolve(r):n.reject("User is not a user")},500),n.promise}}}])}.call(this),function(){angular.module("uTunes").run(["$log","$rootScope","$state","$document",function(e,t,n,r){return e.debug("runBlock end"),t.$on("auth:login-success",function(){}),t.$on("auth:account-update-success",function(){return n.go("root.posts.index")})}])}.call(this),function(){angular.module("uTunes").config(["$stateProvider","$urlRouterProvider",function(e,t){return e.state("root",{"abstract":!0,name:"root",url:"/",templateUrl:"app/main/index.html",controller:"MainController"}).state("root.posts",{name:"posts","abstract":!0,url:"",template:"<ui-view/>"}).state("root.posts.index",{name:"posts.index",url:"",templateUrl:"app/components/posts/views/index.html",controller:"PostIndexController"}).state("root.faq",{name:"faq",url:"faq",templateUrl:"app/main/faq.html"}).state("root.contact",{name:"contact",url:"contact",templateUrl:"app/main/contact.html"}).state("root.login",{name:"login",url:"sign_in",templateUrl:"app/components/userSessions/views/new.html",controller:"UserSessionsController"}).state("root.emailnotif",{name:"emailnotif",url:"confirm_email",templateUrl:"app/main/confirm-email.html"}),t.otherwise("/")}])}.call(this),function(){var e;e=angular.module("uTunes"),e.filter("cut",function(){return function(e,t,n,r,a){var o;return e?(n=parseInt(n,10))?e.length<=n-1?e:(e=e.substr(0,n-1),t&&(o=e.lastIndexOf(" "),-1!==o&&(e=e.substr(0,o))),a?e+"<a href='"+a+"'>"+(r||"…")+"</a>":e+(r||"…")):e:""}}),e.filter("time",function(){return function(e){var t,n,r,a;return a=e/1e3,t=Math.floor(a/3600),n=Math.round((a-3600*t)/60),r="",t>0&&(r+=t,r+=" h "),r+=n,r+=" m"}}),e.filter("startFrom",function(){return function(e,t){return t=+t,e.slice(t)}})}.call(this),function(){var e;e=angular.module("uTunes"),e.directive("stopEvent",[function(){var e;return e={restrict:"A",link:function(e,t,n){return n&&n.stopEvent?t.bind(n.stopEvent,function(e){return e.stopPropagation()}):void 0}}}]),e.directive("ngRightClick",["$parse",function(e){return function(t,n,r){var a;a=e(r.ngRightClick),n.bind("contextmenu",function(e){t.$apply(function(){e.preventDefault(),a(t,{$event:e})})})}}]),e.directive("mdContextMenu",["$parse",function(e){var t;return t=function(e,t,n,r){var a,o,i,s;a||(a=angular.element),a(t.currentTarget).addClass("context"),o=a("<div>"),o.addClass("dropdown clearfix"),i=a("<ul>"),i.addClass("md-whiteframe-z3"),i.attr({role:"menu"}),i.css({display:"block",position:"absolute",left:t.pageX+"px",top:t.pageY+"px",paddingLeft:"16px",paddingRight:"16px",paddingTop:"8px",paddingBottom:"8px",listStyle:"none",zIndex:100,opacity:.99,backgroundColor:"white"}),angular.forEach(n,function(n,s){var d,l,c,u;l=a("<li>"),null===n?l.addClass("divider"):(d=a("<a>"),d.attr({tabindex:"-1",href:"#"}),u="string"==typeof n[0]?n[0]:n[0].call(e,e,t,r),d.text(u),l.append(d),c=angular.isDefined(n[2])?n[2].call(e,e,t,u,r):!0,c?l.on("click",function(i){i.preventDefault(),e.$apply(function(){a(t.currentTarget).removeClass("context"),o.remove(),n[1].call(e,e,t,r)})}):(l.on("click",function(e){e.preventDefault()}),l.addClass("disabled"))),i.append(l)}),o.append(i),s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),o.css({width:"100%",height:s+"px",position:"absolute",top:0,left:0,zIndex:100,opacity:.99}),a(document).find("body").append(o),o.on("mousedown",function(e){a(e.target).hasClass("dropdown")&&(a(t.currentTarget).removeClass("context"),o.remove())}).on("contextmenu",function(e){a(e.currentTarget).removeClass("context"),e.preventDefault(),o.remove()})},function(e,n,r){n.on("contextmenu",function(n){n.stopPropagation(),e.$apply(function(){var a,o;if(n.preventDefault(),o=e.$eval(r.mdContextMenu),a=e.$eval(r.model),!(o instanceof Array))throw new Error(['"'+r.mdContextMenu+'" not an array']);0!==o.length&&t(e,n,o,a)})})}}]),e.directive("integer",[function(){return{require:"ngModel",restrict:"A",link:function(e,t,n,r){var a;return a=/^\-?\d+$/,r.$validators.integer=function(e,t){return r.$isEmpty(e)?!0:a.test(t)?!0:!1}}}}])}.call(this),function(){angular.module("uTunes").constant("malarkey",malarkey).constant("toastr",toastr).constant("moment",moment)}.call(this),function(){angular.module("uTunes").config(["$logProvider","toastr",function(e,t){return e.debugEnabled(!0),t.options.timeOut=3e3,t.options.positionClass="toast-top-right",t.options.preventDuplicates=!0,t.options.progressBar=!0}]).config(["RestangularProvider",function(e){return e.setBaseUrl("/api")}]).config(["$mdThemingProvider",function(e){return e.theme("default").primaryPalette("indigo",{"default":"600","hue-1":"300","hue-2":"900"}).backgroundPalette("grey").accentPalette("blue",{"default":"A700","hue-1":"A400"}).warnPalette("pink")}])}.call(this),angular.module("uTunes").run(["$templateCache",function(e){e.put("app/main/confirm-email.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">A confirmation message has been sent to the email you registered with. Please click the link to confirm your account.</h1></md-content></md-content>'),e.put("app/main/contact.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">Contact</h1></md-content><md-content layout-padding=""><div><span>General Inquiries<a href="mailto:"></a></span></div><div><span>Staff Advisor<a href="mailto:jkay@utschools.ca">jkay@utschools.ca</a></span></div></md-content></md-content>'),e.put("app/main/faq.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">FAQ</h1></md-content><md-content layout-padding="" class="primary-content"><h2 class="md-primary">What is uTunes?</h2><p>uTunes is University of Toronto Schools\' (UTS) online music "production", hosting music produced by students and alumni from the school. site. With the exception of special requirements, such as votes, that are coordinated by the I.T. department, the website is entirely student-made.</p></md-content><md-content layout-padding="" class="primary-content"><h2 class="md-primary">What is the Twig Tape?</h2><p>Twig Tape is an annual compilation of music composed of student/alumni-written, -performed and -produced songs.</p></md-content><md-content layout-padding="" class="primary-content"><h2 class="md-primary">When was Twig Tape first produced?</h2><p>Twig Tape was produced for the first time in the 1985-1986 school year, and has been a UTS tradition since.</p></md-content><md-content layout-padding="" class="primary-content"><h2 class="md-primary">Where does the name "Twig Tape" come from?</h2><p>UTS\'s motto is "Velut arbor ita ramus", which translates from Latin to "As the tree, so the branch". This represents UTS\'s affiliation with the University of Toronto, the tree being the University of Toronto, and the branch being UTS. Because of this motto UTS\'s annual yearbook is named the Twig as it is an offshoot of UTS (the branch) and for this same reason the annual CD production is called the Twig Tape.</p></md-content><md-content layout-padding="" class="primary-content"><h2 class="md-primary">How does uTunes deal with copyrights and legal distribution issues? What if I have a song on uTunes I would like to remove?</h2><p>uTunes\'s Archives uses the opt-out system. We upload all the music that have been recorded onto previous Twig Tapes. If you find a piece of music you created on uTunes, but would like to remove it from the Archives, please contact the Twig Tape Producers and ask for the permanent removal of this file from the online archives. Your requests will usually be processed in just a few days.</p></md-content></md-content>'),e.put("app/main/home.html",'<md-content layout-padding="" style=""><h2>This is the home page.</h2></md-content>'),e.put("app/main/index.html",'<md-sidenav layout="column" md-component-id="left" flex="50" class="md-sidenav-left md-whiteframe-z2"><x-sidebar-left></x-sidebar-left></md-sidenav><md-sidenav layout="column" md-component-id="right" flex="50" class="md-sidenav-right md-whiteframe-z2"><x-sidebar-right></x-sidebar-right></md-sidenav><md-toolbar style="position:fixed;" class="md-whiteframe-z5"><x-navbar></x-navbar></md-toolbar><div style="height:64px;width:100%;"></div><img id="banner" src="/api/assets/images/banner.jpg"><div id="content-sheet" class="md-whiteframe-z3"><div id="main-content" ui-view="" flex=""></div></div><playing-toast></playing-toast><div style="height:50px;width:100%;"></div><md-bottom-sheet style="position:fixed;"><x-audio-player></x-audio-player></md-bottom-sheet>'),e.put("app/components/navbar/navbar.html",'<div class="md-toolbar-tools"><md-button ng-click="toggleLeft()" class="md-icon-button"><i class="mdi mdi-menu"></i></md-button><h1><span>uTunes</span></h1><span flex=""></span><md-button ng-click="toggleRight()" class="md-icon-button"><i class="mdi mdi-account"></i></md-button><x-searchbar></x-searchbar></div>'),e.put("app/components/playingToast/playing-toast.html",'<md-toast id="playing-toast"><div layout="row" flex="" class="toast-container"><div class="toast-icon-container"><i style="" class="mdi mdi-play-circle-outline toast-icon"></i></div><div layout="column" class="playing-text"><div>{{track.title}}</div><div><a ui-sref="root.albums.show({albumId: track.album.id})">{{track.album.title}}</a></div><div><a ng-repeat="artist in track.artists" ui-sref="root.artists.show({artistId: artist.id})">{{artist.name}} {{artist.class_year}}{{$last ? \'\' : \', \'}}</a></div></div><div flex=""></div><div ng-if="user.signedIn" class="toast-button-container"><md-button ng-click="showPlaylists($event)" class="md-icon-button toast-button"><i class="mdi mdi-plus"></i></md-button></div></div></md-toast>'),e.put("app/components/search/results.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">Search Results</h1></md-content><md-content layout-padding="" class="primary-content"><h2 class="md-primary">Albums</h2><md-progress-circular md-mode="indeterminate" ng-show="!albumsLoaded"></md-progress-circular><grid-list items="albums" type="\'album\'" count="albumCount" ng-show="albumsLoaded &amp;&amp; albums.length &gt; 0"></grid-list><p ng-show="albumsLoaded &amp;&amp; albums.length == 0">No results</p></md-content><md-content layout-padding="" class="primary-content"><h2 class="md-primary">Producers</h2><md-progress-circular md-mode="indeterminate" ng-show="!producersLoaded"></md-progress-circular><grid-list items="producers" type="\'producer\'" count="producerCount" ng-show="producersLoaded &amp;&amp; producers.length &gt; 0"></grid-list><p ng-show="producersLoaded &amp;&amp; producers.length == 0">No results</p></md-content><md-content layout-padding="" class="primary-content"><h2 class="md-primary">Artists</h2><md-progress-circular md-mode="indeterminate" ng-show="!artistsLoaded"></md-progress-circular><grid-list items="artists" type="\'artist\'" count="artistCount" ng-show="artistsLoaded &amp;&amp; artists.length &gt; 0"></grid-list><p ng-show="artistsLoaded &amp;&amp; artists.length == 0">No results</p></md-content><md-content layout-padding="" class="primary-content"><h2 class="md-primary">Playlists</h2><md-progress-circular md-mode="indeterminate" ng-show="!playlistsLoaded"></md-progress-circular><playlist-table content="playlists" headers="playlistHeaders" count="playlistCount" ng-show="playlistsLoaded &amp;&amp; playlists.length &gt; 0"></playlist-table><p ng-show="playlistsLoaded &amp;&amp; playlists.length == 0">No results</p></md-content><md-content layout-padding="" class="primary-content"><h2 class="md-primary">Tracks</h2><md-progress-circular md-mode="indeterminate" ng-show="!tracksLoaded"></md-progress-circular><x-track-table tracks="tracks" headers="trackHeaders" count="trackCount" ng-show="tracksLoaded"></x-track-table><p ng-show="tracksLoaded &amp;&amp; tracks.length == 0">No results</p></md-content></md-content>'),
e.put("app/components/search/searchbar.html",'<form layout="row" ng-submit="submit()"><md-input-container layout="row"><md-button ng-submit="submit()" style="position:relative;top:17px;" class="md-icon-button"><i class="mdi mdi-magnify"></i></md-button><section layout="column"><label>Search</label> <input id="search_params" name="search_params" type="text" ng-model="searchParams"></section></md-input-container></form>'),e.put("app/components/sidebarLeft/sidebar-left.html",'<md-toolbar><div class="md-toolbar-tools"><h2><span>Menu</span></h2><span flex=""></span><md-button ng-click="close()" class="md-icon-button"><i class="mdi mdi-close"></i></md-button></div></md-toolbar><div class="sidebar-content"><md-list><md-list-item ng-click="goTo($event, \'root.posts.index\')" ng-class="{\'nav-selected\': state == \'root.posts.index\'}"><i class="mdi mdi mdi-home sidebar-icon"></i><p class="sidebar-selection">Home</p></md-list-item><md-list-item ng-click="goTo($event, \'root.faq\')" ng-class="{\'nav-selected\': state == \'root.faq\'}"><i class="mdi mdi mdi-help sidebar-icon"></i><p class="sidebar-selection">FAQ</p></md-list-item><md-list-item ng-click="goTo($event, \'root.contact\')" ng-class="{\'nav-selected\': state == \'root.about\'}"><i class="mdi mdi mdi-school sidebar-icon"></i><p class="sidebar-selection">Contact</p></md-list-item><md-divider style="padding-top:5px;padding-bottom:5px;"></md-divider><md-subheader class="md-no-sticky">Listen</md-subheader><md-list-item ng-click="goTo($event, \'root.albums.index\')" ng-class="{\'nav-selected\': state.indexOf(\'root.albums\') == 0}"><i class="mdi mdi mdi-headphones sidebar-icon"></i><p class="sidebar-selection">Albums</p></md-list-item><md-list-item ng-click="goTo($event, \'root.artists.index\')" ng-class="{\'nav-selected\': state.indexOf(\'root.artists\') == 0}"><i class="mdi mdi mdi-account-circle sidebar-icon"></i><p class="sidebar-selection">Artists</p></md-list-item><md-list-item ng-click="goTo($event, \'root.playlists.index\')" ng-class="{\'nav-selected\': state.indexOf(\'root.playlists\') == 0}"><i class="mdi mdi mdi-database sidebar-icon"></i><p class="sidebar-selection">Playlists</p></md-list-item><md-list-item ng-click="goTo($event, \'root.producers.index\')" ng-class="{\'nav-selected\': state.indexOf(\'root.producers\') == 0}"><i class="mdi mdi mdi-account-outline sidebar-icon"></i><p class="sidebar-selection">Producers</p></md-list-item><md-list-item ng-click="goTo($event, \'root.tracks.index\')" ng-class="{\'nav-selected\': state.indexOf(\'root.tracks\') == 0}"><i class="mdi mdi mdi-music-note sidebar-icon"></i><p class="sidebar-selection">Tracks</p></md-list-item></md-list></div>'),e.put("app/components/sidebarRight/sidebar-right.html",'<md-toolbar><div class="md-toolbar-tools"><h2><span ng-if="!user.signedIn"><span ng-if="template == login">Login</span><span ng-if="template == signup">Sign up</span></span><span ng-if="user.signedIn">{{user.name}}</span></h2><span flex=""></span><md-button ng-click="close()" class="md-icon-button"><i class="mdi mdi-close"></i></md-button></div></md-toolbar><div class="sidebar-content"><div ng-show="!user.signedIn"><div ng-include="template"></div><a href="#" ng-click="switchLogin()"><span ng-if="template == login">Not registered? Sign up!</span><span ng-if="template == signup">Already have an account? Login!</span></a></div><div ng-show="user.signedIn"><md-list><md-list-item ng-click="goTo($event, \'root.users.edit\', {userId:user.id})" ng-class="{\'nav-selected\': state == \'root.posts.index\'}"><i class="mdi mdi mdi-account-key sidebar-icon"></i><p class="sidebar-selection">Account</p></md-list-item><md-list-item ng-if="user.role == \'admin\'" ng-click="goTo($event, \'root.users.index\', {})" ng-class="{\'nav-selected\': state.indexOf(\'root.posts\') == 0}"><i class="mdi mdi mdi-account-multiple sidebar-icon"></i><p class="sidebar-selection">Manage</p></md-list-item></md-list><md-button ng-click="signOut()" style="float:right;" class="nav-button">Log out</md-button></div></div>'),e.put("app/components/trackTable/playlist-dialog.html",'<md-dialog><form><md-toolbar><div class="md-toolbar-tools"><h2>Add to playlist</h2><span flex=""></span><md-button ng-click="cancel()" class="md-icon-button"><i class="mdi mdi-close"></i></md-button></div></md-toolbar><md-dialog-content style="width:700px; height:450px;"><form><md-input-container><label>Filter</label> <input id="query" name="query" type="Text" ng-model="query"></md-input-container></form><md-list style="max-height:200px;overflow: scroll;"><md-list-item ng-repeat="playlist in playlists | filter:query"><p>{{playlist.title}}</p><md-checkbox ng-model="playlist.wanted" class="md-primary"></md-checkbox></md-list-item></md-list><form name="form"><md-input-container style="padding-bottom: 12px;"><label>New playlist</label> <input id="title" name="title" type="text" ng-model="newPlaylist.title"></md-input-container><md-input-container style="padding-bottom: 12px;"><md-switch id="is_public" ng-model="newPlaylist.is_public" ng-if="$root.user.role &amp;&amp; ($root.user.role == \'admin\' || $root.user.role == \'producer\')">Public</md-switch></md-input-container></form></md-dialog-content><div class="md-actions"><md-button ng-click="answer()">Add</md-button></div></form></md-dialog>'),e.put("app/components/trackTable/track-table.html",'<table class="md-table"><thead><tr class="md-table-headers-row"><th ng-repeat="header in headers" class="md-table-header"><a href="#" ng-if="handleSort(header.field)" ng-click="reverse=!reverse;order(header.field, reverse)">{{header.name}}<i ng-show="reverse &amp;&amp; header.field == predicate" class="mdi mdi-chevron-up"></i><i ng-show="!reverse &amp;&amp; header.field == predicate" class="mdi mdi-chevron-down"></i></a><span ng-if="!handleSort(header.field)">{{header.name}}</span></th></tr></thead><tbody ng-attr-md-context-menu="menuOptions"><tr ng-repeat="track in tracks | startFrom:tablePage*count | limitTo: count" ng-click="playTrack($index, $event)" ng-right-click="setMenuTrack(track)" ng-if="!track._remove" ng-class="{\'track-focus\': track.id == playingTrack.id}" class="md-table-content-row"><td ng-repeat="header in headers" class="md-table-content"><div ng-if="header.field == \'track_number\'">{{track.track_number}}</div><div ng-if="header.field == \'title\'">{{track.title}}</div><div ng-if="header.field == \'artists\'"><a ng-repeat="artist in track.artists" ui-sref="root.artists.show({artistId: artist.id})" stop-event="click">{{artist.name}} {{artist.class_year}}{{$last ? \'\' : \', \'}}</a></div><div ng-if="header.field == \'album\'"><a ui-sref="root.albums.show({albumId: track.album.id})" stop-event="click">{{track.album.title}}</a></div><div ng-if="header.field == \'length_in_seconds\'"><span ng-if="track.length_in_seconds &lt; 3600">{{track.length_in_seconds*1000 | date:"m:ss"}}</span><span ng-if="track.length_in_seconds &gt;= 3600">{{track.length_in_seconds*1000 | date:"H:mm:ss"}}</span></div><div ng-if="header.field == \'edit\'"><a ui-sref="root.tracks.edit({trackId:track.id})" stop-event="click">Edit Track</a></div><div ng-if="header.field==\'download\'"><a href="#" ng-click="downloadFile(track.audio.url)" stop-event="click">Download</a></div><div ng-if="header.field == \'remove\'"><a href="#" ng-click="track._remove = true" stop="click">X</a></div></td></tr></tbody></table><div layout="row" class="md-table-footer"><span class="md-table-count-info">Tracks per page: <a href="#" ng-click="goToPage(0); count = 10">10</a>, <a href="#" ng-click="goToPage(0); count = 25">25</a>, <a href="#" ng-click="goToPage(0); count = 50">50</a>, <a href="#" ng-click="goToPage(0); count = 100">100</a>, <a href="#" ng-click="goToPage(0); count = tracks.length">All</a>&nbsp;(current is {{count}})</span><span flex=""></span><span ng-show="numberOfPages() &gt; 1"><md-button ng-disabled="tablePage==0" ng-click="goToPage(0)" aria-label="First Page" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-double-left"></i></md-button><md-button ng-disabled="tablePage==0" ng-click="goToPage(tablePage-1)" aria-label="Previous Page" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-left"></i></md-button><md-button href="#" ng-repeat="i in getNumber(numberOfPages()) track by $index" ng-click="goToPage($index)" class="md-table-footer-item md-primary md-hue-2">{{$index+1}}</md-button><md-button ng-disabled="tablePage==numberOfPages()-1" ng-click="goToPage(tablePage+1)" aria-label="Next Page" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-right"></i></md-button><md-button ng-disabled="tablePage==numberOfPages()-1" ng-click="goToPage(numberOfPages-1)" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-double-right"></i></md-button></span></div>'),e.put("app/components/users/user-table.html",'<table class="md-table"><thead><tr class="md-table-headers-row"><th ng-repeat="header in headers" class="md-table-header"><a href="#" ng-if="handleSort(header.field)" ng-click="reverse=!reverse;order(header.field, reverse)">{{header.name}}<i ng-show="reverse &amp;&amp; header.field == predicate" class="mdi mdi-chevron-up"></i><i ng-show="!reverse &amp;&amp; header.field == predicate" class="mdi mdi-chevron-down"></i></a><span ng-if="!handleSort(header.field)">{{header.name}}</span></th></tr></thead><tbody><tr ng-repeat="c in content | startFrom:tablePage*count | limitTo: count" class="md-table-content-row"><td ng-repeat="header in headers" class="md-table-content"><div ng-if="header.field == \'edit\'"><a ui-sref="root.users.adminEdit({userId:c.id})">Edit User</a></div><div ng-if="header.field != \'edit\'">{{c[header.field]}}</div></td></tr></tbody></table><div layout="row" class="md-table-footer"><span class="md-table-count-info">Items per page:<a href="#" ng-click="goToPage(0); count = 10">10</a>, <a href="#" ng-click="goToPage(0); count = 25">25</a>, <a href="#" ng-click="goToPage(0); count = 50">50</a>, <a href="#" ng-click="goToPage(0); count = 100">100</a>, <a href="#" ng-click="goToPage(0); count = content.length">All</a>(current is {{count}})</span><span flex=""></span><span ng-show="numberOfPages() &gt; 1"><md-button ng-disabled="tablePage==0" ng-click="goToPage(0)" aria-label="First Page" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-double-left"></i></md-button><md-button ng-disabled="tablePage==0" ng-click="goToPage(tablePage-1)" aria-label="Previous Page" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-left"></i></md-button><md-button href="#" ng-repeat="i in getNumber(numberOfPages()) track by $index" ng-click="goToPage($index)" class="md-table-footer-item md-primary md-hue-2">{{$index+1}}</md-button><md-button ng-disabled="tablePage==numberOfPages()-1" ng-click="goToPage(tablePage+1)" aria-label="Next Page" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-right"></i></md-button><md-button ng-disabled="tablePage==numberOfPages()-1" ng-click="goToPage(numberOfPages-1)" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-double-right"></i></md-button></span></div>'),e.put("app/components/mediaContent/gridList/grid-list.html",'<div id="options" layout="row"><md-input-container class="grid-list-sort"><label>Sort by:</label><md-select ng-model="orderProp"><md-option ng-repeat="prop in props" value="{{prop.field}}">{{prop.name}}</md-option></md-select></md-input-container><div flex=""></div><md-input-container class="grid-list-sort"><md-select ng-model="reverse"><md-option value="{{0}}">Ascending</md-option><md-option value="{{1}}">Descending</md-option></md-select></md-input-container></div><md-grid-list md-cols-sm="2" md-cols-md="3" md-cols-gt-md="6" md-row-height-gt-md="1:1" md-row-height-md="1:1" md-gutter="12px" md-gutter-gt-sm="8px"><md-grid-tile ng-repeat="tile in tiles | orderBy:orderProp:reverse==1 | startFrom:tablePage*count | limitTo: count" md-rowspan="1" md-colspan="1" ng-style="{\'background-image\': \'url({{tile.image.url}})\', \'background-repeat\': \'no-repeat\', \'background-size\': \'cover\'}" ng-mouseover="mousedOver=$index" ng-mouseleave="mousedOver=null" ng-click="playItem(tile.id)" class="md-whiteframe-z2 md-primary md-hue-1"><img ng-show="mousedOver!=$parent.$index &amp;&amp; type != \'producer\'" src="/api/assets/images/play_button_overlay.png" class="play-overlay"><md-grid-tile-footer class="custom-tile-footer"><div layout="column"><md-button ng-if="type==\'album\'" ui-sref="root.albums.show({albumId:tile.id})" stop-event="click" class="md-grid-button">{{tile.title | cut: title.title:false:19}}</md-button><md-button ng-if="type==\'artist\'" ui-sref="root.artists.show({artistId:tile.id})" stop-event="click" class="md-grid-button">{{tile.title | cut: false:18}}</md-button><md-button ng-if="type==\'producer\'" ui-sref="root.producers.show({producerId:tile.id})" stop-event="click" class="md-grid-button">{{tile.title | cut: title.title:false:19}}</md-button><div class="tile-year">{{tile.year}}</div></div></md-grid-tile-footer></md-grid-tile></md-grid-list><div layout="row" class="grid-list-footer"><span class="md-table-count-info">Items per page: <a href="#" ng-click="goToPage(0); count = 6">6</a>, <a href="#" ng-click="goToPage(0); count = 12">12</a>, <a href="#" ng-click="goToPage(0); count = 24">24</a>, <a href="#" ng-click="goToPage(0); count = 48">48</a>, <a href="#" ng-click="goToPage(0); count = tiles.length">All</a>&nbsp;(current is {{count}})</span><span flex=""></span><span ng-show="numberOfPages() &gt; 1"><md-button ng-disabled="tablePage==0" ng-click="goToPage(0)" aria-label="First Page" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-double-left"></i></md-button><md-button ng-disabled="tablePage==0" ng-click="goToPage(tablePage-1)" aria-label="Previous Page" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-left"></i></md-button><md-button href="#" ng-repeat="i in getNumber(numberOfPages()) track by $index" ng-click="goToPage($index)" class="md-table-footer-item md-primary md-hue-2">{{$index+1}}</md-button><md-button ng-disabled="tablePage==numberOfPages()-1" ng-click="goToPage(tablePage+1)" aria-label="Next Page" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-right"></i></md-button><md-button ng-disabled="tablePage==numberOfPages()-1" ng-click="goToPage(numberOfPages-1)" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-double-right"></i></md-button></span></div>'),e.put("app/components/mediaContent/playlist/playlist-table.html",'<md-switch ng-model="myPlaylists">My playlists only</md-switch>{{user.id}}<table class="md-table"><thead><tr class="md-table-headers-row"><th ng-repeat="header in headers" class="md-table-header"><a href="#" ng-if="handleSort(header.field)" ng-click="reverse=!reverse;order(header.field, reverse)">{{header.name}}<i ng-show="reverse &amp;&amp; header.field == predicate" class="mdi mdi-chevron-up"></i><i ng-show="!reverse &amp;&amp; header.field == predicate" class="mdi mdi-chevron-down"></i></a><span ng-if="!handleSort(header.field)">{{header.name}}</span></th></tr></thead><tbody><tr ng-repeat="c in content | startFrom:tablePage*count | limitTo: count" ng-if="!myPlaylists || c.user_id == $root.user.id" ng-click="playPlaylist(c.id)" class="md-table-content-row"><td ng-repeat="header in headers" class="md-table-content"><div ng-if="header.field == \'title\'"><a ui-sref="root.playlists.show({playlistId:c.id})" stop-event="click">{{c.title}}</a></div><div ng-if="header.field != \'title\'">{{c[header.field]}}</div></td></tr></tbody></table><div layout="row" class="md-table-footer"><span class="md-table-count-info">Items per page:<a href="#" ng-click="goToPage(0); count = 10">10</a>, <a href="#" ng-click="goToPage(0); count = 25">25</a>, <a href="#" ng-click="goToPage(0); count = 50">50</a>, <a href="#" ng-click="goToPage(0); count = 100">100</a>, <a href="#" ng-click="goToPage(0); count = content.length">All</a>(current is {{count}})</span><span flex=""></span><span ng-show="numberOfPages() &gt; 1"><md-button ng-disabled="tablePage==0" ng-click="goToPage(0)" aria-label="First Page" class="md-table-footer-item d-primary md-hue-2"><i class="mdi mdi-chevron-double-left"></i></md-button><md-button ng-disabled="tablePage==0" ng-click="goToPage(tablePage-1)" aria-label="Previous Page" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-left"></i></md-button><md-button href="#" ng-repeat="i in getNumber(numberOfPages()) track by $index" ng-click="goToPage($index)" class="md-table-footer-item md-primary md-hue-2">{{$index+1}}</md-button><md-button ng-disabled="tablePage==numberOfPages()-1" ng-click="goToPage(tablePage+1)" aria-label="Next Page" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-right"></i></md-button><md-button ng-disabled="tablePage==numberOfPages()-1" ng-click="goToPage(numberOfPages-1)" class="md-table-footer-item md-primary md-hue-2"><i class="mdi mdi-chevron-double-right"></i></md-button></span></div>'),e.put("app/components/mediaContent/playlist/playlists.html",'<md-content layout-padding="" style=""><h2></h2></md-content>'),e.put("app/components/player/views/current-time.html",'<div id="current-time" class="time"><span ng-if="duration &lt; 3600">{{currentTime*1000 | date:"mm:ss"}}</span><span ng-if="duration &gt;= 3600">{{currentTime*1000 | date:"H:mm:ss"}}</span></div>'),e.put("app/components/player/views/fast-forward-button.html",'<div ng-click="fastForward()" ng-class="{inactive: !canFastForward}"><i class="mdi mdi-fast-forward"></i></div>'),e.put("app/components/player/views/pause-play-button.html",'<div ng-click="pausePlay()"><i ng-show="!playing" class="mdi mdi-play-circle-outline"></i><i ng-show="playing" class="mdi mdi-pause-circle-outline"></i></div>'),e.put("app/components/player/views/player.html",'<audio><source ng-src="{{source}}"></audio><div layout="row" class="md-player-controls"><rewind-button></rewind-button><pause-play-button></pause-play-button><fast-forward-button></fast-forward-button><current-time></current-time><scrub-bar></scrub-bar><total-time></total-time><shuffle-button></shuffle-button><repeat-button></repeat-button><volume-bar></volume-bar></div>'),e.put("app/components/player/views/repeat-button.html",'<div ng-click="changeRepeatState()" ng-class="{active: repeat!= \'off\', inactive: repeat== \'off\'}"><i ng-show="repeat==\'off\'" class="mdi mdi-repeat-off"></i><i ng-show="repeat==\'on\'" class="mdi mdi-repeat"></i><i ng-show="repeat==\'once\'" class="mdi mdi-repeat-once"></i></div>'),e.put("app/components/player/views/rewind-button.html",'<div ng-click="rewind()" ng-class="{inactive: !canRewind}"><i class="mdi mdi-rewind"></i></div>'),e.put("app/components/player/views/scrub-bar.html",'<div id="scrub-bar" ng-click="" ng-class="" layout="row"><div class="timeline"><div class="timeline-current"></div></div><div id="playhead"><i class="mdi mdi-checkbox-blank-circle"></i></div></div>'),e.put("app/components/player/views/shuffle-button.html",'<div ng-click="setShuffle()" ng-class="{active: shuffle, inactive: !shuffle}"><i class="mdi mdi-shuffle potato"></i></div>'),e.put("app/components/player/views/total-time.html",'<div id="total-time" class="time"><span ng-if="duration &lt; 3600">{{duration*1000 | date:"mm:ss"}}</span><span ng-if="duration &gt;= 3600">{{duration*1000 | date:"H:mm:ss"}}</span></div>'),e.put("app/components/player/views/volume-bar.html",'<div layout="row"><div id="volume-controls"><i ng-show="volume &gt;= 0.67 &amp;&amp; !muted" class="mdi mdi-volume-high"></i><i ng-show="volume &lt; 0.67 &amp;&amp; volume &gt;= 0.33 &amp;&amp; !muted" class="mdi mdi-volume-medium"></i><i ng-show="volume &lt; 0.33 &amp;&amp; !muted" class="mdi mdi-volume-low"></i><i ng-show="muted" class="mdi mdi-volume-off"></i></div><div id="volume-bar"><div class="volume"><div class="volume-current"></div></div><div id="volumehead"><i class="mdi mdi-checkbox-blank-circle"></i></div></div></div>'),e.put("app/components/posts/views/delete-dialog.html",'<md-dialog><form><md-toolbar class="md-warn"><div class="md-toolbar-tools"><h2>Delete post?</h2><span flex=""></span><md-button ng-click="cancel()" class="md-icon-button"><i class="mdi mdi-close"></i></md-button></div></md-toolbar><md-dialog-content style="max-width:700px; max-height:810px;"><p>Are you sure you want to delete this post?</p></md-dialog-content><div class="md-actions"><md-button ng-click="cancel()">Cancel</md-button><md-button ng-click="answer(1)">Confirm</md-button></div></form></md-dialog>'),e.put("app/components/posts/views/edit.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">Edit post</h1></md-content><md-content layout-padding="" layout="row" layout-sm="column"><form name="form"><md-input-container><label>Title</label> <input id="title" name="title" type="text" ng-model="post.title" required=""><div ng-messages="form.title.$error"><div ng-show="required">required</div></div></md-input-container><md-input-container><label>Content</label> <textarea id="content" name="content" type="text" ng-model="post.content"></textarea></md-input-container><md-input-container><h3 class="md-primary">Image</h3><div id="cover_image" name="cover_image" type="file" ngf-select="" ngf-pattern="\'.jpg,.jpeg,.gif,.png\'" ngf-drop="" ngf-drag-over-class="dragover" ng-model="post.file" ng-disabled="disabled" class="drop-box">Drop file</div>{{post.file.name}}<div ng-messages="post.file.$error"><div ng-show="post.file.$error==\'pattern\'">image required</div></div></md-input-container><md-input-container layout="row"><md-button ng-click="openDeleteDialog($event)" class="md-raised md-warn">Delete</md-button><md-button ng-click="save()" class="md-raised md-primary">Save</md-button><md-progress-circular md-mode="indeterminate" ng-show="formSending"></md-progress-circular></md-input-container></form></md-content></md-content>'),e.put("app/components/posts/views/index.html",'<md-content layout-padding="" style=""><md-content layout-padding="" layout="row" flex=""><h1 class="md-primary album-title">News</h1><span flex=""></span><md-button ui-sref="root.posts.new" ng-if="user.role &amp;&amp; (user.role == \'admin\' || user.role == \'producer\')" class="md-raised md-accent">Add post</md-button></md-content><md-content layout-padding=""><md-card ng-repeat="post in posts" class="md-whiteframe-z2"><div ng-if="post.cover_image.url" class="md-card-image"><img ng-src="{{post.cover_image.url}}"></div><div class="md-whiteframe-z2"></div><md-card-content><h2 class="md-title md-card-title"><a ui-sref="root.posts.show({postId: post.id})">{{post.title}}</a></h2><h2 class="md-subheader md-card-subheader">{{post.author}} {{post.updated_at | date:"medium"}}</h2><div ng-bind-html="post.content" class="article"></div></md-card-content><div layout="row" layout-align="end center" class="md-actions"><md-button ui-sref="root.posts.show({postId: post.id})">Read more</md-button><md-button ui-sref="root.posts.edit({postId: post.id})" ng-if="user.role &amp;&amp; (user.role == \'admin\' || user.role == \'producer\')" class="md-raised md-accent">Edit</md-button></div></md-card></md-content></md-content>'),e.put("app/components/posts/views/new.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">New Post</h1></md-content><md-content layout-padding="" layout="row" layout-sm="column"><form name="form"><md-input-container><label>Title</label> <input id="title" name="title" type="text" ng-model="post.title"><div ng-messages="form.title.$error"><div ng-show="required">required</div></div></md-input-container><md-input-container><label>Content</label> <textarea id="content" name="content" type="text" ng-model="post.content"></textarea></md-input-container><md-input-container><h3>Image</h3><div id="cover_image" name="cover_image" type="file" ngf-select="" ngf-pattern="\'.jpg,.jpeg,.gif,.png\'" ngf-drop="" ngf-drag-over-class="dragover" ng-model="post.file" ng-disabled="disabled" class="drop-box">Drop file</div>{{post.file.name}}<div ng-messages="post.file.$error"><div ng-show="post.file.$error==\'pattern\'">image required</div></div></md-input-container><md-input-container layout="row"><md-button ng-click="save()" class="md-raised md-primary">Save</md-button><md-progress-circular md-mode="indeterminate" ng-show="formSending"></md-progress-circular></md-input-container></form></md-content></md-content>'),e.put("app/components/posts/views/show.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">News</h1></md-content><md-content layout-padding=""><md-card class="md-whiteframe-z3"><img ng-src="{{post.cover_image.url}}"><md-card-content><h2 class="md-title md-card-title"><a ui-sref="root.posts.show({postId: post.id})">{{post.title}}</a></h2><h2 class="md-subheader md-card-subheader">{{post.author}} {{post.updated_at | date:"medium"}}</h2><div ng-bind-html="post.content" class="article"></div></md-card-content><div layout="row" layout-align="end center" class="md-actions"><md-button ui-sref="root.posts.edit({postId: post.id})" ng-if="user.role &amp;&amp; (user.role == \'admin\' || user.role == \'producer\')" class="md-raised md-primary">Edit post</md-button></div></md-card></md-content></md-content>'),e.put("app/components/userRegistrations/views/new.html",'<form ng-submit="handleRegBtnClick()" role="form" ng-init="registrationForm = {}"><md-input-container><label>Email</label> <input type="email" name="email" id="email" ng-model="registrationForm.email" required=""><div ng-messages="errors"><div ng-message="email">{{errors.email[0]}}</div></div></md-input-container><md-input-container><label>Password</label> <input type="password" name="password" id="password" ng-model="registrationForm.password" required=""><div ng-messages="errors"><div ng-message="password">{{errors.password[0]}}</div></div></md-input-container><md-input-container><label>Re-enter your password</label> <input type="password" name="password_confirmation" id="password_confirmation" ng-model="registrationForm.password_confirmation" required=""><div ng-messages="errors"><div ng-message="password_confirmation">{{errors.password_confirmation[0]}}</div></div></md-input-container><md-button type="submit" class="md-raised md-primary">Sign up</md-button></form>'),e.put("app/components/userSessions/views/new.html",'<form ng-submit="submitLogin(loginForm)" role="form" ng-init="loginForm = {}"><md-input-container><label>Email</label> <input type="email" name="email" id="email" ng-model="loginForm.email" required=""><div ng-messages="errors"><div ng-message="email">{{errors.email[0]}}</div></div></md-input-container><md-input-container><label>Password</label> <input type="password" name="password" id="password" ng-model="loginForm.password" required=""><div ng-messages="errors"><div ng-message="password">{{errors.password[0]}}</div></div></md-input-container><md-input-container><md-button type="submit" class="md-raised md-primary">Sign In</md-button><div ng-messages="errors">{{errors[0]}}</div></md-input-container></form>'),e.put("app/components/users/views/admin-delete-dialog.html",'<md-dialog><form><md-toolbar class="md-warn"><div class="md-toolbar-tools"><h2>Delete user?</h2><span flex=""></span><md-button ng-click="cancel()" class="md-icon-button"><i class="mdi mdi-close"></i></md-button></div></md-toolbar><md-dialog-content style="max-width:700px; max-height:810px;"><p>Are you sure you want to delete this user?</p></md-dialog-content><div class="md-actions"><md-button ng-click="cancel()">Cancel</md-button><md-button ng-click="answer(1)">Confirm</md-button></div></form></md-dialog>'),e.put("app/components/users/views/admin-edit.html",'<md-content layout-padding="" style=";"><md-content layout-padding=""><h1 class="md-primary">Edit {{otheruser.name}}</h1></md-content><md-content layout-padding="" layout="row" layout-sm="column"><form name="form"><md-input-container><label>Name</label> <input id="name" name="name" type="text" ng-model="otheruser.name" required=""><div ng-messages="form.name.$error"><div ng-message="required">required</div></div></md-input-container><md-input-container><label>Email</label> <input id="email" name="email" type="email" ng-model="otheruser.email"><div ng-messages="form.email.$error"><div ng-message="required">required</div><div ng-message="email">valid email required</div></div></md-input-container><md-input-container><label>Role</label><md-select ng-model="otheruser.role"><md-option value="admin">admin</md-option><md-option value="producer">producer</md-option><md-option value="user">user</md-option></md-select></md-input-container><md-input-container><label>Admin password</label> <input id="admin_password" name="admin_password" type="password" ng-model="otheruser.admin_password"><div ng-messages="form.admin_password.$error"><div ng-message="required">required</div></div><div ng-messages="errors"><div ng-message="admin_password">{{errors.admin_password[0]}}</div></div></md-input-container><md-input-container layout="row"><md-button ng-click="openDeleteDialog($event)" class="md-raised md-warn">Delete</md-button><md-button ng-click="save()" class="md-raised md-primary">Save</md-button><md-progress-circular md-mode="indeterminate" ng-show="formSending"></md-progress-circular></md-input-container></form></md-content></md-content>'),e.put("app/components/users/views/delete-dialog.html",'<md-dialog><form><md-toolbar class="md-warn"><div class="md-toolbar-tools"><h2>Delete your account?</h2><span flex=""></span><md-button ng-click="cancel()" class="md-icon-button"><i class="mdi mdi-close"></i></md-button></div></md-toolbar><md-dialog-content style="max-width:700px; max-height:810px;"><p>Are you sure you want to delete your account?</p></md-dialog-content><div class="md-actions"><md-button ng-click="cancel()">Cancel</md-button><md-button ng-click="answer(1)">Confirm</md-button></div></form></md-dialog>'),e.put("app/components/users/views/edit.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">Edit your account</h1></md-content><md-content layout-padding=""><form role="form" ng-init="updateAccountForm = {name: user.name, email: user.email}"><md-input-container><label>Name</label> <input type="text" name="name" id="name" ng-model="updateAccountForm.name" required=""><div ng-messages="errors"><div ng-message="name">{{errors.name[0]}}</div></div></md-input-container><md-input-container><label>Email</label> <input type="email" name="email" id="email" ng-model="updateAccountForm.email" required=""><div ng-messages="errors"><div ng-message="email">{{errors.email[0]}}</div></div></md-input-container><md-input-container><label>Current password</label> <input type="password" name="current_password" id="current_password" ng-model="updateAccountForm.current_password" required=""><div ng-messages="errors"><div ng-message="current_password">{{errors.current_password[0]}}</div></div></md-input-container><md-input-container><label>New password</label> <input type="password" name="password" id="password" ng-model="updateAccountForm.password"><div ng-messages="errors"><div ng-message="password">{{errors.password[0]}}</div></div></md-input-container><md-input-container><label>Re-enter new password</label> <input type="password" name="password_confirmation" id="password_confirmation" ng-model="updateAccountForm.password_confirmation"><div ng-messages="errors"><div ng-message="password_confirmation">{{errors.password_confirmation[0]}}</div></div></md-input-container><md-input-container layout="row"><md-button ng-click="openDeleteDialog($event)" class="md-raised md-warn">Delete</md-button><md-button ng-click="save()" class="md-raised md-primary">Update</md-button><md-progress-circular md-mode="indeterminate" ng-show="formSending"></md-progress-circular></md-input-container></form></md-content></md-content>'),
e.put("app/components/users/views/index.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h2 class="md-primary">Users</h2></md-content><md-content layout-padding=""><user-table content="users" headers="headers" count="count"></user-table></md-content></md-content>'),e.put("app/components/users/views/new.html",'<md-content layout-padding="" style=""><form ng-submit="handleRegBtnClick(registrationForm)" role="form" ng-init="registrationForm = {}"><md-input-container><label>Name</label> <input type="text" name="name" id="name" ng-model="registrationForm.name" required=""><div ng-messages="errors"><div ng-message="name">{{errors.name[0]}}</div></div></md-input-container><md-input-container><label>Email</label> <input type="email" name="email" id="email" ng-model="registrationForm.email" required=""><div ng-messages="errors"><div ng-message="email">{{errors.email[0]}}</div></div></md-input-container><md-input-container><label>Password</label> <input type="password" name="password" id="password" ng-model="registrationForm.password" required=""><div ng-messages="errors"><div ng-message="password">{{errors.password[0]}}</div></div></md-input-container><md-input-container><label>Re-enter your password</label> <input type="password" name="password_confirmation" id="password_confirmation" ng-model="registrationForm.password_confirmation" required=""><div ng-messages="errors"><div ng-message="password_confirmation">{{errors.password_confirmation[0]}}</div></div></md-input-container><md-button type="submit" class="md-raised md-primary">Sign up</md-button></form></md-content>'),e.put("app/components/mediaContent/album/views/delete-dialog.html",'<md-dialog><form><md-toolbar class="md-warn"><div class="md-toolbar-tools"><h2>Delete album?</h2><span flex=""></span><md-button ng-click="cancel()" class="md-icon-button"><i class="mdi mdi-close"></i></md-button></div></md-toolbar><md-dialog-content style="max-width:700px; max-height:810px;"><p>Are you sure you want to delete this album?</p></md-dialog-content><div class="md-actions"><md-button ng-click="cancel()">Cancel</md-button><md-button ng-click="answer(1)">Confirm</md-button></div></form></md-dialog>'),e.put("app/components/mediaContent/album/views/edit.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">Edit {{album.title}}</h1></md-content><md-content layout-padding="" layout="row" layout-sm="column"><form name="parentForm"><album-fields register-form-scope="registerFormScope" album="album" edit="albumEdit"></album-fields><h2 class="md-primary">Producers</h2><div ng-repeat="producer in producers" ng-hide="producer._remove" layout="row" flex=""><span class="producer-link"><a ui-sref="root.producers.show({producerId: producer.id})">{{producer.name}} {{producer.class_year}}</a></span><span flex=""></span><span class="producer-options"><md-button ui-sref="root.producers.edit({producerId: producer.id})" class="md-raised md-accent">Edit Producer</md-button><md-button href="#" ng-click="removeProducerAssociation(producer)" class="md-raised md-warn">Remove association</md-button></span></div><div ng-repeat="producer in album.producers" layout="row" ng-hide="producer._remove"><producer-fields register-form-scope="registerFormScope" producer="producer" edit="producerEdit"></producer-fields><md-input-container><md-button ng-click="removeProducer($index, album)" class="md-raised md-warn">Remove Producer</md-button></md-input-container></div><md-input-container><md-button ng-click="addProducer()" class="md-raised md-accent">Add Producer</md-button></md-input-container><h2 class="md-primary">Tracks</h2><x-track-table tracks="tracks" headers="headers" count="count"></x-track-table><div ng-repeat="track in album.tracks" layout="row"><track-fields register-form-scope="registerFormScope" track="track" edit="trackEdit" artist-edit="artistEdit" tracks="album.tracks" track-numbers="trackNumbers"></track-fields><md-input-container><md-button ng-click="removeTrack($index, album)" class="md-raised md-warn">Remove Track</md-button></md-input-container></div><md-input-container><md-button ng-click="addTrack()" class="md-raised md-accent">Add track</md-button></md-input-container><md-input-container layout="row"><md-button ng-click="openDeleteDialog($event)" class="md-raised md-warn">Delete</md-button><md-button ng-click="save()" class="md-raised md-primary">Save</md-button><md-progress-circular md-mode="indeterminate" ng-show="formSending"></md-progress-circular></md-input-container></form></md-content></md-content>'),e.put("app/components/mediaContent/album/views/index.html",'<md-content layout-padding="" style=""><md-content layout-padding="" flex=""><div layout="row"><h1 class="md-primary album-title">Albums</h1><span flex=""></span><md-button ui-sref="root.albums.new" ng-if="user.role &amp;&amp; (user.role == \'admin\' || user.role == \'producer\')" class="md-raised md-accent">Add album</md-button></div></md-content><md-content layout-padding=""><grid-list items="albums" type="\'album\'" count="count" ng-show="albums"></grid-list></md-content></md-content>'),e.put("app/components/mediaContent/album/views/new.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">Add an album</h1></md-content><md-content layout-padding="" layout="row"><form name="parentForm" novalidate=""><md-input-container><input name="tracksLength" ng-model="tracksLength" style="display:none;" ui-validate="{hastracks: \'hasTracks($value)\'}"><div ng-messages="parentForm.tracksLength.$error"><div ng-message="hastracks">album must have at least one track</div></div></md-input-container><md-content class="primary-content"><album-fields register-form-scope="registerFormScope" album="album" edit="albumEdit"></album-fields></md-content><md-content class="primary-content nested-field"><h2 class="md-primary">Producers</h2><div ng-repeat="producer in album.producers" layout="row"><producer-fields register-form-scope="registerFormScope" producer="producer" edit="producerEdit"></producer-fields><md-input-container><md-button ng-click="removeProducer($index, album)" class="md-raised md-warn">Remove Producer</md-button></md-input-container></div><md-input-container><md-button ng-click="addProducer()" class="md-raised md-accent">Add Producer</md-button></md-input-container></md-content><md-content class="primary-content nested-field"><h2 class="md-primary">Tracks</h2><div ng-repeat="track in album.tracks" layout="row"><track-fields register-form-scope="registerFormScope" track="track" edit="trackEdit" artist-edit="artistEdit" tracks="album.tracks" track-numbers="trackNumbers"></track-fields><md-input-container><md-button ng-click="removeTrack($index, album)" class="md-raised md-warn">Remove Track</md-button></md-input-container></div><md-input-container><md-button ng-click="addTrack()" class="md-raised md-accent">Add track</md-button></md-input-container></md-content><md-input-container layout="row"><md-button ng-click="save()" class="md-raised md-primary">Add</md-button><md-progress-circular md-mode="indeterminate" ng-show="formSending"></md-progress-circular></md-input-container></form></md-content></md-content>'),e.put("app/components/mediaContent/album/views/show.html",'<md-content id="album-show" layout-padding="" style="" ng-show="album"><div layout="row"><div ng-if="album.cover_image.url"><img ng-src="{{album.cover_image.url}}" class="md-whiteframe-z2 album-show-image"></div><md-content layout-padding="" flex="" class="primary-content"><div layout="row"><h1 class="md-primary album-title">{{album.title}}</h1><span flex=""></span><md-button ui-sref="root.albums.edit({albumId: album.id})" ng-if="user.role &amp;&amp; (user.role == \'admin\' || user.role == \'producer\')" class="md-raised md-accent">Edit album</md-button><md-button ng-click="playAlbum()" class="md-raised md-accent">Play</md-button></div><div layout="row"><p class="md-subheader album-subtitle"><span ng-if="album.year">{{album.year}} &nbsp&bull;&nbsp</span>{{album.tracks_count}} {{album.tracks_count == 1 ? \'track\' : \'tracks\'}} &nbsp&bull;&nbsp {{album.duration*1000 | time}} <span ng-if="album.cover_designer">&nbsp&bull;&nbsp Cover design: {{album.cover_designer}}</span></p></div><div ng-bind-html="album.description" class="article"></div></md-content></div><md-content id="album-producers" layout-padding="" ng-if="producers" class="primary-content"><h2 class="md-primary">Producers</h2><div style="padding-bottom: 24px;"><grid-list items="producers" type="\'producer\'" count="producerCount"></grid-list></div></md-content><md-content id="album-tracks" layout-padding="" ng-show="tracks" class="primary-content"><h2 class="md-primary">Tracks</h2><x-track-table tracks="tracks" headers="headers" count="trackCount"></x-track-table></md-content></md-content>'),e.put("app/components/mediaContent/artist/views/delete-dialog.html",'<md-dialog><form><md-toolbar class="md-warn"><div class="md-toolbar-tools"><h2>Delete artist?</h2><span flex=""></span><md-button ng-click="cancel()" class="md-icon-button"><i class="mdi mdi-close"></i></md-button></div></md-toolbar><md-dialog-content style="max-width:700px; max-height:810px;"><p>Are you sure you want to delete this artist?</p><md-checkbox ng-model="deleteAssociatedTracks" class="md-warn">Delete associated tracks?</md-checkbox></md-dialog-content><div class="md-actions"><md-button ng-click="cancel()">Cancel</md-button><md-button ng-click="answer(deleteAssociatedTracks)">Confirm</md-button></div></form></md-dialog>'),e.put("app/components/mediaContent/artist/views/edit.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">Edit {{artist.name}} {{artist.class_year}}</h1></md-content><md-content layout-padding="" layout="row" layout-sm="column"><form name="parentForm"><artist-fields register-form-scope="registerFormScope" artist="artist" edit="artistEdit"></artist-fields><md-input-container layout="row"><md-button ng-click="openDeleteDialog($event)" class="md-raised md-warn">Delete</md-button><md-button ng-click="save()" class="md-raised md-primary">Save</md-button><md-progress-circular md-mode="indeterminate" ng-show="formSending"></md-progress-circular></md-input-container></form></md-content></md-content>'),e.put("app/components/mediaContent/artist/views/index.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">Artists</h1></md-content><md-content layout-padding=""><grid-list items="artists" type="\'artist\'" count="count" ng-show="artists"></grid-list></md-content></md-content>'),e.put("app/components/mediaContent/artist/views/show.html",'<md-content id="artist-show" layout-padding="" style="" ng-show="artist"><md-content layout-padding="" layout="row" flex=""><h1 class="md-primary album-title">{{artist.name}} {{artist.class_year}}</h1><span flex=""></span><md-button ui-sref="root.artists.edit({artistId: artist.id})" ng-if="user.role &amp;&amp; (user.role == \'admin\' || user.role == \'producer\')" class="md-raised md-accent">Edit artist</md-button></md-content><md-content layout-padding="" ng-if="artist.bio || artist.profile_picture.url" class="article primary-content"><img ng-src="{{artist.profile_picture.url}}" class="md-whiteframe-z2 person-show-image">{{artist.bio}}</md-content><img ng-src="{{artist.profile_picture.large.url}}"><md-content id="artist-albums" layout-padding="" class="primary-content"><h2 class="md-primary">Albums</h2><grid-list items="albums" type="\'album\'" count="albumCount" ng-show="albums"></grid-list></md-content><md-content id="artist-tracks" layout-padding="" class="primary-content"><h2 class="md-primary">Tracks</h2><x-track-table tracks="tracks" headers="headers" count="trackCount" ng-show="tracks"></x-track-table></md-content></md-content>'),e.put("app/components/mediaContent/forms/views/album-fields.html",'<ng-form name="form" novalidate=""><md-input-container><label>Album Title</label> <input id="album-title" name="title" type="text" ng-model="album.title" ng-required="true" ng-disabled="disabled"><div ng-messages="form.title.$error"><div ng-message="required">required</div></div></md-input-container><md-input-container><label>Year</label> <input id="album-year" name="year" type="text" ng-model="album.year" ng-disabled="disabled" integer=""><div ng-messages="form.year.$error"><div ng-message="integer">number required</div></div></md-input-container><md-input-container><h3 class="md-primary">Album Cover</h3><div id="album-cover-image" name="cover_image" type="file" ngf-select="" ngf-pattern="\'.jpg,.jpeg,.gif,.png\'" ngf-drop="" ngf-drag-over-class="dragover" ng-model="album.file" ng-disabled="disabled" class="drop-box">Drag and drop or click to upload</div>{{album.file.name}}<div ng-messages="album.file.$error"><div ng-show="album.file.$error==\'pattern\'">image required</div></div><label>Cover image designer</label> <input id="cover-designer" name="cover_designer" type="text" ng-model="album.cover_designer"></md-input-container><md-input-container><label>Description</label> <textarea id="album-description" name="description" type="text" ng-model="album.description" md-maxlength="625"></textarea><div ng-messages="form.description.$error"><div ng-message="md-maxlength">max length: 625 characters</div></div></md-input-container></ng-form>'),e.put("app/components/mediaContent/forms/views/artist-fields.html",'<ng-form name="form" novalidate=""><div layout="column"><md-input-container><label>Name</label> <input id="artist-name" name="name" type="text" ng-model="artist.name" required=""><div ng-messages="form.name.$error"><div ng-message="required">required</div></div></md-input-container><md-input-container><label>Class Year</label> <input id="artist-class-year" name="class_year" type="text" ng-model="artist.class_year" integer=""><div ng-messages="form.class_year.$error"><div ng-message="integer">number required</div></div></md-input-container><md-input-container ng-if="edit"><h3 class="md-primary">Profile picture</h3><div id="profile-picture" name="profile_picture" type="file" ngf-select="" ngf-pattern="\'.jpg,.jpeg,.gif,.png\'" ngf-drop="" ngf-drag-over-class="dragover" ng-model="artist.file" ng-disabled="disabled" class="drop-box">Drag and drop or click to upload</div>{{artist.file.name}}<div ng-messages="artist.file.$error"><div ng-show="artist.file.$error==\'pattern\'">image required</div></div></md-input-container><md-input-container ng-if="edit"><label>Bio</label> <textarea id="artist-bio" name="bio" type="text" ng-model="artist.bio"></textarea></md-input-container></div></ng-form>'),e.put("app/components/mediaContent/forms/views/producer-fields.html",'<ng-form name="form" novalidate=""><div layout="column"><md-input-container><label>Name</label> <input id="producer-name" name="producer_name" type="text" ng-model="producer.name" required=""><div ng-messages="form.producer_name.$error"><div ng-message="required">required</div></div></md-input-container><md-input-container><label>Class Year</label> <input id="producer-class-year" name="class_year" type="text" ng-model="producer.class_year" integer=""><div ng-messages="form.class_year.$error"><div ng-message="integer">number required</div></div></md-input-container><md-input-container ng-if="edit"><h3 class="md-primary">Profile picture</h3><div id="profile-picture" name="profile_picture" type="file" ngf-select="" ngf-pattern="\'.jpg,.jpeg,.gif,.png\'" ngf-drop="" ngf-drag-over-class="dragover" ng-model="producer.file" ng-disabled="disabled" class="drop-box">Drag and drop or click to upload</div>{{producer.file.name}}<div ng-messages="producer.file.$error"><div ng-show="producer.file.$error==\'pattern\'">image required</div></div></md-input-container><md-input-container ng-if="edit"><label>Bio</label> <textarea id="producer-bio" name="bio" type="text" ng-model="producer.bio"></textarea></md-input-container></div></ng-form>'),e.put("app/components/mediaContent/forms/views/track-fields.html",'<ng-form name="form" novalidate=""><div ng-hide="track._destroy" class="primary-content"><md-input-container><label>Track Number</label> <input id="track-number" name="track_number" type="number" ng-model="track.track_number" required="" ui-validate="{unique: \'uniqueTrackNumber($value)\'}"><div ng-messages="form.track_number.$error"><div ng-message="required">required</div><div ng-message="number">number required</div><div ng-message="unique">track numbers must be unique</div></div></md-input-container><md-input-container><label>Title</label> <input id="track-title" name="track_title" type="text" ng-model="track.title" required=""><div ng-messages="form.track_title.$error"><div ng-message="required">required</div></div></md-input-container><md-input-container><h3 class="md-primary">Audio File</h3><div ng-if="track.id" id="track-audio" name="file" type="file" ngf-select="" ngf-drop="" ngf-drag-over-class="dragover" ngf-pattern="\'.mp3,.ogg,.wav\'" ng-model="track.file" class="drop-box">Drag and drop or click to upload</div><div ng-if="!track.id" id="track-audio" name="file" type="file" ngf-select="" ngf-drop="" ngf-drag-over-class="dragover" ngf-pattern="\'.mp3,.ogg,.wav\'" ng-model="track.file" required="" class="drop-box">Drag and drop or click to upload</div><p>{{track.file.name}}</p><audio id="new-track-audio" ngf-src="track.file"></audio><div ng-if="!track.id" ng-messages="form.file.$error"><div ng-message="required">required</div></div><div ng-messages="track.file.$error"><div ng-show="track.file.$error==\'pattern\'">.mp3, .wav, or .ogg audio required</div></div></md-input-container><div class="primary-content nested-field"><h3 class="md-primary">Artists</h3><div ng-repeat="artist in artists" ng-hide="artist._remove" layout="row" flex=""><span class="producer-link"><a ui-sref="root.artists.show({artistId: artist.id})">{{artist.name}} {{artist.class_year}}</a></span><span class="producer-options"><md-button ui-sref="root.artists.edit({artistId: artist.id})" class="md-raised md-accent">Edit artist</md-button><md-button href="#" ng-click="removeArtistAssociation(artist)" class="md-raised md-warn">Remove association</md-button></span></div><div ng-repeat="artist in track.artists" layout="row" ng-hide="artist._remove"><artist-fields register-form-scope="registerFormScope" artist="artist" edit="artistEdit"></artist-fields><md-input-container><md-button ng-click="removeArtist($index, track)" class="md-raised md-warn">X Remove Artist</md-button></md-input-container></div><md-input-container><md-button ng-click="addArtist(track)" class="md-raised md-accent">+ Add Artist</md-button></md-input-container></div></div></ng-form>'),e.put("app/components/mediaContent/playlist/views/delete-dialog.html",'<md-dialog><form><md-toolbar class="md-warn"><div class="md-toolbar-tools"><h2>Delete playlist?</h2><span flex=""></span><md-button ng-click="cancel()" class="md-icon-button"><i class="mdi mdi-close"></i></md-button></div></md-toolbar><md-dialog-content style="max-width:700px; max-height:810px;"><p>Are you sure you want to delete this playlist?</p></md-dialog-content><div class="md-actions"><md-button ng-click="cancel()">Cancel</md-button><md-button ng-click="answer(1)">Confirm</md-button></div></form></md-dialog>'),e.put("app/components/mediaContent/playlist/views/edit.html",'<md-content layout-padding="" style=""><h1>Edit {{playlist.title}}</h1><form name="form"><md-input-container><label>Title</label> <input id="title" name="title" type="text" ng-model="playlist.title"><div ng-messages="form.title.$error"><div ng-show="required">required</div></div></md-input-container><div id="playlist-tracks"><h2>Tracks</h2><x-track-table tracks="tracks" headers="headers" count="count"></x-track-table></div><md-input-container layout="row"><md-button ng-click="openDeleteDialog($event)" class="md-raised md-warn">Delete</md-button><md-button ng-click="save()" class="md-raised md-primary">Save</md-button><md-progress-circular md-mode="indeterminate" ng-show="formSending"></md-progress-circular></md-input-container></form></md-content>'),e.put("app/components/mediaContent/playlist/views/index.html",'<md-content layout-padding="" style=""><md-content layout-padding="" flex="" class="primary-content"><div layout="row"><h1 class="md-primary album-title">Playlists</h1><span flex=""></span><md-button ui-sref="root.playlists.new" ng-if="user.id" class="md-raised md-accent">Add playlist</md-button></div></md-content><md-content layout-padding="" class="primary-content"><playlist-table content="playlists" headers="headers" count="count" ng-show="playlists"></playlist-table></md-content></md-content>'),e.put("app/components/mediaContent/playlist/views/new.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">New Playlist</h1><form name="form"><md-input-container><label>Title</label> <input id="title" name="title" type="text" ng-model="playlist.title"><div ng-messages="form.title.$error"><div ng-show="required">title required</div></div></md-input-container><md-input-container><md-switch id="is_public" ng-model="playlist.is_public" ng-if="user.role &amp;&amp; (user.role == \'admin\' || user.role == \'producer\')">Public</md-switch></md-input-container><md-input-container layout="row"><md-button ng-click="save()" class="md-raised md-primary">Save</md-button><md-progress-circular md-mode="indeterminate" ng-show="formSending"></md-progress-circular></md-input-container></form></md-content></md-content>'),e.put("app/components/mediaContent/playlist/views/show.html",'<md-content id="playlist-show" layout-padding="" style="" ng-show="playlist"><div layout="row"><md-content layout-padding="" flex="" class="primary-content"><div layout="row"><h1 class="md-primary album-title">{{playlist.title}}</h1><span flex=""></span><md-button ui-sref="root.playlists.edit({playlistId: playlist.id})" ng-if="user.id &amp;&amp; (user.id == playlist.user_id || user.role == \'producer\' || user.role == \'admin\')" class="md-raised md-accent">Edit playlist</md-button><md-button ng-click="playPlaylist()" class="md-raised md-accent">Play</md-button></div><div layout="row"><p class="md-subheader album-subtitle">{{playlist.author}} &nbsp&bull;&nbsp {{tracks.length}} {{tracks.length == 1 ? \'track\' : \'tracks\'}} &nbsp&bull;&nbsp {{playlist.duration*1000 | time}}</p></div></md-content></div><md-content id="playlist-tracks" layout-padding="" ng-show="tracks" class="primary-content"><h2>Tracks</h2><x-track-table tracks="tracks" headers="headers" count="count"></x-track-table></md-content></md-content>'),e.put("app/components/mediaContent/producer/views/delete-dialog.html",'<md-dialog><form><md-toolbar class="md-warn"><div class="md-toolbar-tools"><h2>Delete producer?</h2><span flex=""></span><md-button ng-click="cancel()" class="md-icon-button"><i class="mdi mdi-close"></i></md-button></div></md-toolbar><md-dialog-content style="max-width:700px; max-height:810px;"><p>Are you sure you want to delete this producer?</p></md-dialog-content><div class="md-actions"><md-button ng-click="cancel()">Cancel</md-button><md-button ng-click="answer(1)">Confirm</md-button></div></form></md-dialog>'),e.put("app/components/mediaContent/producer/views/edit.html",'<md-content layout-padding="" style=""><h1>Edit {{producer.name}} {{producer.class_year}}</h1><md-content layout-padding="" layout="row" layout-sm="column"><form name="parentForm"><producer-fields register-form-scope="registerFormScope" producer="producer" edit="producerEdit"></producer-fields><md-input-container layout="row"><md-button ng-click="openDeleteDialog($event)" class="md-raised md-warn">Delete</md-button><md-button ng-click="save()" class="md-raised md-primary">Save</md-button><md-progress-circular md-mode="indeterminate" ng-show="formSending"></md-progress-circular></md-input-container></form></md-content></md-content>'),e.put("app/components/mediaContent/producer/views/index.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">Producers</h1></md-content><md-content layout-padding=""><grid-list items="producers" type="\'producer\'" count="count" ng-show="producers"></grid-list></md-content></md-content>'),e.put("app/components/mediaContent/producer/views/show.html",'<md-content id="producer-show" layout-padding="" style="" ng-show="producer"><md-content layout-padding="" layout="row" flex=""><h1 class="md-primary album-title">{{producer.name}} {{producer.class_year}}</h1><span flex=""></span><md-button ui-sref="root.producers.edit({producerId: producer.id})" ng-if="user.role &amp;&amp; (user.role == \'admin\' || user.role == \'producer\')" class="md-raised md-accent">Edit producer</md-button></md-content><md-content layout-padding="" ng-if="producer.bio || producer.profile_picture.url" class="article primary-content"><img ng-src="{{producer.profile_picture.url}}" class="md-whiteframe-z2 person-show-image">{{producer.bio}}</md-content><img ng-src="{{producer.profile_picture.large.url}}"><md-content id="producer-albums" layout-padding="" class="primary-content"><h2 class="md-primary">Albums</h2><grid-list items="albums" type="\'album\'" count="albumCount" ng-show="albums"></grid-list></md-content></md-content>'),e.put("app/components/mediaContent/track/views/delete-dialog.html",'<md-dialog><form><md-toolbar class="md-warn"><div class="md-toolbar-tools"><h2>Delete track?</h2><span flex=""></span><md-button ng-click="cancel()" class="md-icon-button"><i class="mdi mdi-close"></i></md-button></div></md-toolbar><md-dialog-content style="max-width:700px; max-height:810px;"><p>Are you sure you want to delete this track?</p></md-dialog-content><div class="md-actions"><md-button ng-click="cancel()">Cancel</md-button><md-button ng-click="answer(1)">Confirm</md-button></div></form></md-dialog>'),e.put("app/components/mediaContent/track/views/edit.html",'<md-content layout-padding="" style=""><md-content layout-padding=""><h1 class="md-primary">Edit {{track.title}}</h1></md-content><md-content layout-padding="" layout="row" layout-sm="column"><form name="parentForm"><track-fields register-form-scope="registerFormScope" track="track" edit="trackEdit" artist-edit="artistEdit" track-numbers="trackNumbers"></track-fields><md-input-container layout="row"><md-button ng-click="openDeleteDialog($event)" class="md-raised md-warn">Delete</md-button><md-button ng-click="save()" class="md-raised md-primary">Save</md-button><md-progress-circular md-mode="indeterminate" ng-show="formSending"></md-progress-circular></md-input-container></form></md-content></md-content>'),e.put("app/components/mediaContent/track/views/index.html",'<md-content layout-padding="" style=""><md-content layout-padding="" class="primary-content"><h1 class="md-primary album-title">Tracks</h1></md-content><md-content layout-padding="" class="primary-content"><x-track-table tracks="tracks" headers="headers" count="count" ng-show="tracks"></x-track-table></md-content></md-content>')}]);